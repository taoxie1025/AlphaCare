{"remainingRequest":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\src\\views\\Articles.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\src\\views\\Articles.vue","mtime":1604395286150},{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQge2RlZmF1bHQgYXMgQVBJX0VORFBPSU5UU30gZnJvbSAiLi4vYXBpIjsKaW1wb3J0IERyYWdnYWJsZSBmcm9tICd2dWVkcmFnZ2FibGUnOwppbXBvcnQgQ29uZmlybURpYWxvZyBmcm9tICIuLi9jb21wb25lbnRzL0NvbmZpcm1EaWFsb2ciOwppbXBvcnQgQXJ0aWNsZUVkaXRvciBmcm9tICIuLi9jb21wb25lbnRzL0FydGljbGVFZGl0b3IiOwppbXBvcnQgRW1haWxBZGRyZXNzQ2FyZCBmcm9tICJAL2NvbXBvbmVudHMvRW1haWxBZGRyZXNzQ2FyZCI7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBjb21wb25lbnRzOiB7RW1haWxBZGRyZXNzQ2FyZCwgRHJhZ2dhYmxlLCBDb25maXJtRGlhbG9nLCBBcnRpY2xlRWRpdG9yfSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcHJvamVjdElkOiAnJywKICAgICAgICAgICAgcHJvamVjdDoge30sCiAgICAgICAgICAgIGFydGljbGVzOiBbXSwKICAgICAgICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgICAgICAgc2VsZWN0ZWRJbmRleDogLTEsCiAgICAgICAgICAgIGlzU2F2aW5nOiBmYWxzZSwKICAgICAgICAgICAgYXJ0aWNsZUVkaXRvckRpYWxvZzogZmFsc2UsCiAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsCiAgICAgICAgICAgIHNlbmRUZXN0RW1haWxEaWFsb2c6IGZhbHNlLAogICAgICAgICAgICBtZXNzYWdlU25hY2tiYXI6IGZhbHNlLAogICAgICAgICAgICBkaXNwbGF5TWVzc2FnZTogIiIKICAgICAgICB9CiAgICB9LAogICAgd2F0Y2g6IHsKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgb3BlblNlbmRUZXN0RW1haWxEaWFsb2coaW5kZXgpIHsKICAgICAgICAgIHRoaXMuc2VuZFRlc3RFbWFpbERpYWxvZyA9IHRydWUKICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleCA9IGluZGV4CiAgICAgICAgfSwKICAgICAgICBjbG9zZVNlbmRUZXN0RW1haWxEaWFsb2coKSB7CiAgICAgICAgICB0aGlzLnNlbmRUZXN0RW1haWxEaWFsb2cgPSBmYWxzZQogICAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gLTEKICAgICAgICB9LAogICAgICAgIHNlbmRUZXN0RW1haWwodG8pIHsKICAgICAgICAgIHRoaXMuc2VuZEVtYWlsKHRoaXMucHJvamVjdC5vdXRnb2luZ0VtYWlsLCB0bywgdGhpcy5hcnRpY2xlc1t0aGlzLnNlbGVjdGVkSW5kZXhdLnRpdGxlLAogICAgICAgICAgICAgIHRoaXMuYXJ0aWNsZXNbdGhpcy5zZWxlY3RlZEluZGV4XS5odG1sQm9keSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5jbG9zZVNlbmRUZXN0RW1haWxEaWFsb2coKQogICAgICAgICAgICAgIHRoaXMuc2hvd1NuYWNrQmFyKCJNZXNzYWdlIHNlbnQgdG8gIiArIHRvKQogICAgICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgICAgICAgIHRoaXMuY2xvc2VTZW5kVGVzdEVtYWlsRGlhbG9nKCkKICAgICAgICAgICAgICB0aGlzLnNob3dTbmFja0JhcigiRmFpbGVkIHRvIHNlbmQgbWVzc2FnZSB0byAiICsgdG8pCiAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgc2hvd1NuYWNrQmFyKG1zZykgewogICAgICAgICAgdGhpcy5kaXNwbGF5TWVzc2FnZSA9IG1zZwogICAgICAgICAgdGhpcy5tZXNzYWdlU25hY2tiYXIgPSB0cnVlCiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHRoaXMubWVzc2FnZVNuYWNrYmFyID0gZmFsc2UKICAgICAgICAgIH0sIDIwMDApOwogICAgICAgIH0sCiAgICAgICAgb25TYXZlKGVkaXRlZEFydGljbGUpIHsKICAgICAgICAgICAgdGhpcy51cGRhdGVBcnRpY2xlKGVkaXRlZEFydGljbGUpLnRoZW4ocmVzcCA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLmFydGljbGVzLnNwbGljZSh0aGlzLnNlbGVjdGVkSW5kZXgsIDEsIHJlc3AuZGF0YSkKICAgICAgICAgICAgICAgIHRoaXMuYXJ0aWNsZUVkaXRvckRpYWxvZyA9IGZhbHNlCiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSAtMQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgb25DcmVhdGUoYXJ0aWNsZSkgewogICAgICAgICAgICB0aGlzLmNyZWF0ZUFydGljbGUoYXJ0aWNsZSkudGhlbihyZXNwID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuYXJ0aWNsZXMucHVzaChyZXNwLmRhdGEpCiAgICAgICAgICAgICAgICB0aGlzLmFydGljbGVFZGl0b3JEaWFsb2cgPSBmYWxzZQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgb25DbG9zZUVkaXRvcigpIHsKICAgICAgICAgICAgdGhpcy5hcnRpY2xlRWRpdG9yRGlhbG9nID0gZmFsc2UKICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gLTEKICAgICAgICB9LAogICAgICAgIGNoYW5nZVN0YXRlKGluZGV4KSB7CiAgICAgICAgICAgIHRoaXMuVXBkYXRlQXJ0aWNsZUJ5SW5kZXgoaW5kZXgpCiAgICAgICAgfSwKICAgICAgICBVcGRhdGVBcnRpY2xlQnlJbmRleChpbmRleCkgewogICAgICAgICAgICBjb25zdCBhcnRpY2xlID0gdGhpcy5hcnRpY2xlc1tpbmRleF0KICAgICAgICAgICAgdGhpcy51cGRhdGVBcnRpY2xlKGFydGljbGUpLnRoZW4ocmVzcCA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLmFydGljbGVzLnNwbGljZShpbmRleCwgMSwgcmVzcC5kYXRhKQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgY3JlYXRlQXJ0aWNsZShhcnRpY2xlKSB7CiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7ZW1haWw6IHRoaXMucHJvamVjdC5lbWFpbCwgcHJvamVjdElkOiB0aGlzLnByb2plY3RJZCwgaXNMaXZlOiBhcnRpY2xlLmlzTGl2ZSwgdGl0bGU6IGFydGljbGUudGl0bGUsIGh0bWxCb2R5OiBhcnRpY2xlLmh0bWxCb2R5LCB0ZXh0Qm9keTogYXJ0aWNsZS50ZXh0Qm9keX0KICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICAgICAgICAgIGF4aW9zKHt1cmw6IEFQSV9FTkRQT0lOVFMuQ1JFQVRFX0FSVElDTEUsIGRhdGE6IGRhdGEsIG1ldGhvZDogJ1BPU1QnIH0pCiAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcCkKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3AKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gewogICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICB1cGRhdGVBcnRpY2xlKGFydGljbGUpIHsKICAgICAgICAgICAgY29uc3QgZGF0YSA9IHtlbWFpbDogdGhpcy4kc3RvcmUuZ2V0dGVycy5lbWFpbCwgYXJ0aWNsZTogYXJ0aWNsZX0KICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICAgICAgICAgIGF4aW9zKHt1cmw6IEFQSV9FTkRQT0lOVFMuVVBEQVRFX0FSVElDTEUsIGRhdGE6IGRhdGEsIG1ldGhvZDogJ1BVVCcgfSkKICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwKQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcAogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGNvbnZlcnRUb0RhdGUodGltZXN0YW1wTXMpIHsKICAgICAgICAgICAgaWYgKHRpbWVzdGFtcE1zID4gMCkgewogICAgICAgICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHRpbWVzdGFtcE1zKQogICAgICAgICAgICAgICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCkKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gIiIKICAgICAgICB9LAogICAgICAgIHNhdmVPcmRlcigpIHsKICAgICAgICAgICAgbGV0IG5ld0FydGljbGVJZHMgPSBbXQogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYXJ0aWNsZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIG5ld0FydGljbGVJZHMucHVzaCh0aGlzLmFydGljbGVzW2ldLmFydGljbGVJZCkKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLnByb2plY3QuYXJ0aWNsZUlkcyA9IG5ld0FydGljbGVJZHMKICAgICAgICAgICAgdGhpcy5zYXZlUHJvamVjdCgpCiAgICAgICAgfSwKICAgICAgICBzYXZlUHJvamVjdCgpIHsKICAgICAgICAgICAgdGhpcy5pc1NhdmluZyA9IHRydWUKICAgICAgICAgICAgY29uc3QgZGF0YSA9IHtlbWFpbDogdGhpcy4kc3RvcmUuZ2V0dGVycy5lbWFpbCwgcHJvamVjdDogdGhpcy5wcm9qZWN0fQogICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgICAgICAgICAgYXhpb3Moe3VybDogQVBJX0VORFBPSU5UUy5VUERBVEVfUFJPSkVDVCwgZGF0YTogZGF0YSwgbWV0aG9kOiAnUFVUJyB9KQogICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4gewogICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3ApCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvamVjdCA9IHJlc3AuZGF0YQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRBcnRpY2xlcygpCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNTYXZpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIG9wZW5BcnRpY2xlRWRpdG9yKGluZGV4KSB7CiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleCA9IGluZGV4CiAgICAgICAgICAgIHRoaXMuYXJ0aWNsZUVkaXRvckRpYWxvZyA9IHRydWUKICAgICAgICB9LAogICAgICAgIG9wZW5EaWFsb2coaW5kZXgpIHsKICAgICAgICAgICAgdGhpcy5kaWFsb2cgPSB0cnVlCiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleCA9IGluZGV4CiAgICAgICAgfSwKICAgICAgICBkZWxldGVBcnRpY2xlKCkgewogICAgICAgICAgICBjb25zdCBwcm9qZWN0SWQgPSB0aGlzLmFydGljbGVzW3RoaXMuc2VsZWN0ZWRJbmRleF0ucHJvamVjdElkCiAgICAgICAgICAgIGNvbnN0IGFydGljbGVJZCA9IHRoaXMuYXJ0aWNsZXNbdGhpcy5zZWxlY3RlZEluZGV4XS5hcnRpY2xlSWQKICAgICAgICAgICAgY29uc3QgZGF0YSA9IHtyZXF1ZXN0ZXJFbWFpbDogdGhpcy4kc3RvcmUuZ2V0dGVycy5lbWFpbH0KICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICAgICAgICAgIGF4aW9zKHt1cmw6IEFQSV9FTkRQT0lOVFMuREVMRVRFX0FSVElDTEUodGhpcy4kc3RvcmUuZ2V0dGVycy5lbWFpbCwgcHJvamVjdElkLCBhcnRpY2xlSWQpLCBwYXJhbXM6IGRhdGEsIG1ldGhvZDogJ0RFTEVURScgfSkKICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwKQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2plY3QuYXJ0aWNsZUlkcy5zcGxpY2UodGhpcy5zZWxlY3RlZEluZGV4LCAxKQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFydGljbGVzLnNwbGljZSh0aGlzLnNlbGVjdGVkSW5kZXgsIDEpCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gewogICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICByZWFkUHJvamVjdCgpIHsKICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlCiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7cmVxdWVzdGVyRW1haWw6IHRoaXMuJHN0b3JlLmdldHRlcnMuZW1haWx9CiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgICAgICAgICBheGlvcyh7dXJsOiBBUElfRU5EUE9JTlRTLlJFQURfUFJPSkVDVCh0aGlzLiRzdG9yZS5nZXR0ZXJzLmVtYWlsLCB0aGlzLnByb2plY3RJZCksIHBhcmFtczogZGF0YSwgbWV0aG9kOiAnR0VUJyB9KQogICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4gewogICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3ApCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvamVjdCA9IHJlc3AuZGF0YQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRBcnRpY2xlcygpCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycikKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgcmVhZEFydGljbGVzKCkgewogICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgICAgICAgICAgbGV0IGRhdGEgPSB7ZW1haWw6IHRoaXMuJHN0b3JlLmdldHRlcnMuZW1haWwgPyB0aGlzLiRzdG9yZS5nZXR0ZXJzLmVtYWlsIDogdGhpcy5wcm9qZWN0LmVtYWlsfQogICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvamVjdD8uYXJ0aWNsZUlkcz8ubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgIGRhdGEuYXJ0aWNsZUlkcyA9IHRoaXMucHJvamVjdC5hcnRpY2xlSWRzCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBheGlvcyh7dXJsOiBBUElfRU5EUE9JTlRTLlJFQURfQVJUSUNMRVMsIGRhdGE6IGRhdGEsIG1ldGhvZDogJ1BPU1QnIH0pCiAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcCkKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcnRpY2xlcyA9IHJlc3AuZGF0YQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycikKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgc2VuZEVtYWlsKGZyb20sIHRvLCBzdWJqZWN0LCBtZXNzYWdlKSB7CiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgICAgICBsZXQgZGF0YSA9IHtlbWFpbDogdGhpcy4kc3RvcmUuZ2V0dGVycy5lbWFpbCA/IHRoaXMuJHN0b3JlLmdldHRlcnMuZW1haWwgOiB0aGlzLnByb2plY3QuZW1haWwsCiAgICAgICAgICAgICAgZnJvbTogZnJvbSwgdG86IHRvLCBtZXNzYWdlOiBtZXNzYWdlLCBzdWJqZWN0OiBzdWJqZWN0LCBwcm9qZWN0SWQ6IHRoaXMucHJvamVjdC5wcm9qZWN0SWQsCiAgICAgICAgICAgICAgcHJvamVjdE5hbWU6IHRoaXMucHJvamVjdC5uYW1lfQogICAgICAgICAgICBheGlvcyh7dXJsOiBBUElfRU5EUE9JTlRTLlNFTkRfRU1BSUwsIGRhdGE6IGRhdGEsIG1ldGhvZDogJ1BPU1QnIH0pCiAgICAgICAgICAgICAgICAudGhlbihyZXNwID0+IHsKICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwKQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gewogICAgICAgICAgICAgICAgICByZWplY3QoZXJyKQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBpc0xvZ2luKCkgewogICAgICAgICAgICBpZiAoIXRoaXMuJHN0b3JlLmdldHRlcnMuaXNMb2dnZWRJbiB8fCAhdGhpcy4kc3RvcmUuZ2V0dGVycy5lbWFpbCkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIm5vdCBzaWduZWQgaW4gIik7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdHJ1ZQogICAgICAgIH0sCiAgICB9LAogICAgY3JlYXRlZDogZnVuY3Rpb24gKCkgewogICAgICAgIGlmICghdGhpcy5pc0xvZ2luKCkgfHwgIXRoaXMuJHJvdXRlLnBhcmFtcyB8fCAhdGhpcy4kcm91dGUucGFyYW1zLnByb2plY3RJZCkgewogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9kYXNoYm9hcmQnKQogICAgICAgIH0KICAgICAgICB0aGlzLnByb2plY3RJZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5wcm9qZWN0SWQKICAgICAgICBpZiAoIXRoaXMuJHJvdXRlLnBhcmFtcy5wcm9qZWN0KSB7CiAgICAgICAgICAgIHRoaXMucmVhZFByb2plY3QoKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMucHJvamVjdCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5wcm9qZWN0CiAgICAgICAgICAgIHRoaXMucmVhZEFydGljbGVzKCkKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["Articles.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8HA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Articles.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n\r\n    <div id=\"app\" >\r\n        <v-app id=\"inspire\" >\r\n            <div v-if=\"isLoading\">\r\n                <v-row justify=\"center\">\r\n                    <v-progress-circular indeterminate color=\"primary\"></v-progress-circular>\r\n                </v-row>\r\n            </div>\r\n            <div v-else>\r\n                <v-container class=\"my-2\" grid-list-sm>\r\n                    <v-layout>\r\n                        <v-flex xs12>\r\n                            <v-btn tile class=\"info\" @click=\"articleEditorDialog=true\">\r\n                                <v-icon dark>mdi-plus</v-icon>\r\n                                Add New Article\r\n                            </v-btn>\r\n                        </v-flex>\r\n                    </v-layout>\r\n                    <br>\r\n                    <draggable v-model=\"articles\" @change=\"saveOrder\" handle=\".handle\" v-if=\"this.articles && this.articles.length > 0\">\r\n                        <v-card :disabled=\"isSaving\" text v-for=\"(article, index) in articles\" :key=\"article.articleId\" class=\"handle\">\r\n                            <v-layout row wrap class=\"pa-2\">\r\n                                <v-flex xs2 sm2 md1>\r\n                                    <div class=\"caption grey--text ml-9\">No.</div>\r\n                                    <div :class=\"{'mt-0 mb-1': $vuetify.breakpoint.smAndDown}\">\r\n                                      <v-tooltip bottom>\r\n                                        <template v-slot:activator=\"{ on, attrs }\">\r\n                                          <v-icon size=\"35\" color=\"primary\" v-bind=\"attrs\" v-on=\"on\" >drag_indicator</v-icon>\r\n                                        </template>\r\n                                        <span>Drag to move</span>\r\n                                      </v-tooltip>\r\n                                        {{index + 1}}\r\n                                    </div>\r\n                                </v-flex>\r\n\r\n                                <v-flex xs4 sm4 md4>\r\n                                    <div class=\"caption grey--text mb-1\">Title</div>\r\n                                    <div :class=\"{'mt-0 mb-1': $vuetify.breakpoint.smAndDown}\" id=\"title-container\">\r\n                                        {{ article.title }}\r\n                                    </div>\r\n                                </v-flex>\r\n\r\n                                <v-flex xs2 sm2 md3>\r\n                                    <div class=\"caption grey--text mb-1\">Updated on</div>\r\n                                    <div :class=\"{'mt-0 mx-0 px-0': $vuetify.breakpoint.smAndDown}\" v-html=\"convertToDate(article.updatedAt)\"></div>\r\n                                </v-flex>\r\n\r\n                                <v-flex xs1 sm2 md2 class=\"pt-0\">\r\n                                    <div class=\"mt-0 pt-0\">\r\n                                        <v-switch v-model=\"article.isLive\" @click=\"changeState(index)\" :label=\"`${article.isLive ? 'ON' : 'OFF'}`\"></v-switch>\r\n                                    </div>\r\n                                </v-flex>\r\n                                <v-spacer></v-spacer>\r\n                                <v-flex xs2 sm2 md2 class=\"mt-0 pt-3\" id=\"buttonContainer\">\r\n                                    <v-row class=\"ml-10\">\r\n                                    <div>\r\n                                      <v-tooltip bottom>\r\n                                        <template v-slot:activator=\"{ on, attrs }\">\r\n                                          <v-btn icon :class=\"article\" @click=\"openArticleEditor(index)\" v-bind=\"attrs\" v-on=\"on\" class=\"pa-3 ma-0\"><v-icon size=\"35\" color=\"primary\">edit</v-icon></v-btn>\r\n                                        </template>\r\n                                        <span>Edit</span>\r\n                                      </v-tooltip>\r\n                                      <v-tooltip bottom>\r\n                                        <template v-slot:activator=\"{ on, attrs }\">\r\n                                          <v-btn icon :class=\"article\" @click=\"openSendTestEmailDialog(index)\" v-bind=\"attrs\" v-on=\"on\" class=\"pa-3 ma-0\"><v-icon size=\"35\" color=\"green\">mdi-email-send-outline</v-icon></v-btn>\r\n                                        </template>\r\n                                        <span>Send</span>\r\n                                      </v-tooltip>\r\n                                      <v-tooltip bottom>\r\n                                        <template v-slot:activator=\"{ on, attrs }\">\r\n                                          <v-btn icon :class=\"article\" @click=\"openDialog(index)\" v-bind=\"attrs\" v-on=\"on\"  class=\"pa-0 ma-0\"><v-icon size=\"35\" color=\"grey\">delete</v-icon></v-btn>\r\n                                        </template>\r\n                                        <span>Delete</span>\r\n                                      </v-tooltip>\r\n                                    </div>\r\n                                    </v-row>\r\n                                </v-flex>\r\n                            </v-layout>\r\n                        </v-card>\r\n                    </draggable>\r\n                    <v-row justify=\"center\">\r\n                        <v-dialog v-model=\"dialog\" max-width=\"250\">\r\n                            <confirm-dialog v-bind:title=\"`Are you sure?`\" :body=\"`The action is not reversible.`\" @yes=\"deleteArticle\" @no=\"dialog=false\"></confirm-dialog>\r\n                        </v-dialog>\r\n                    </v-row>\r\n                </v-container>\r\n                <v-container>\r\n                    <v-row justify=\"center\">\r\n                        <v-dialog v-if=\"articleEditorDialog\" v-model=\"articleEditorDialog\" fullscreen hide-overlay transition=\"dialog-bottom-transition\">\r\n                            <article-editor v-bind:article=\"articles && selectedIndex >= 0 ? Object.assign({}, articles[selectedIndex]) : {}\" @save=\"onSave\" @create=\"onCreate\" @closeEditor=\"onCloseEditor\"></article-editor>\r\n                        </v-dialog>\r\n                    </v-row>\r\n                </v-container>\r\n                <v-container>\r\n                  <v-row justify=\"center\">\r\n                    <v-dialog v-if=\"sendTestEmailDialog\" v-model=\"sendTestEmailDialog\" max-width=\"350\">\r\n                      <email-address-card :email-address=\"project.outgoingEmail\" @send=\"sendTestEmail\" @close=\"closeSendTestEmailDialog\"></email-address-card>\r\n                    </v-dialog>\r\n                  </v-row>\r\n                </v-container>\r\n                <v-container>\r\n                  <v-row>\r\n                    <v-snackbar v-model=\"messageSnackbar\">\r\n                      {{ displayMessage }}\r\n                      <template v-slot:action=\"{ attrs }\">\r\n                        <v-btn\r\n                            color=\"pink\"\r\n                            text\r\n                            v-bind=\"attrs\"\r\n                            @click=\"snackbar = false\"\r\n                        >\r\n                          Close\r\n                        </v-btn>\r\n                      </template>\r\n                    </v-snackbar>\r\n                  </v-row>\r\n                </v-container>\r\n            </div>\r\n        </v-app>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n    import axios from \"axios\";\r\n    import {default as API_ENDPOINTS} from \"../api\";\r\n    import Draggable from 'vuedraggable';\r\n    import ConfirmDialog from \"../components/ConfirmDialog\";\r\n    import ArticleEditor from \"../components/ArticleEditor\";\r\n    import EmailAddressCard from \"@/components/EmailAddressCard\";\r\n\r\n    export default {\r\n        components: {EmailAddressCard, Draggable, ConfirmDialog, ArticleEditor},\r\n        data() {\r\n            return {\r\n                projectId: '',\r\n                project: {},\r\n                articles: [],\r\n                dialog: false,\r\n                selectedIndex: -1,\r\n                isSaving: false,\r\n                articleEditorDialog: false,\r\n                isLoading: false,\r\n                sendTestEmailDialog: false,\r\n                messageSnackbar: false,\r\n                displayMessage: \"\"\r\n            }\r\n        },\r\n        watch: {\r\n        },\r\n        methods: {\r\n            openSendTestEmailDialog(index) {\r\n              this.sendTestEmailDialog = true\r\n              this.selectedIndex = index\r\n            },\r\n            closeSendTestEmailDialog() {\r\n              this.sendTestEmailDialog = false\r\n              this.selectedIndex = -1\r\n            },\r\n            sendTestEmail(to) {\r\n              this.sendEmail(this.project.outgoingEmail, to, this.articles[this.selectedIndex].title,\r\n                  this.articles[this.selectedIndex].htmlBody).then(() => {\r\n                  this.closeSendTestEmailDialog()\r\n                  this.showSnackBar(\"Message sent to \" + to)\r\n              }).catch(() => {\r\n                  this.closeSendTestEmailDialog()\r\n                  this.showSnackBar(\"Failed to send message to \" + to)\r\n              })\r\n            },\r\n            showSnackBar(msg) {\r\n              this.displayMessage = msg\r\n              this.messageSnackbar = true\r\n              setTimeout(function(){\r\n                this.messageSnackbar = false\r\n              }, 2000);\r\n            },\r\n            onSave(editedArticle) {\r\n                this.updateArticle(editedArticle).then(resp => {\r\n                    this.articles.splice(this.selectedIndex, 1, resp.data)\r\n                    this.articleEditorDialog = false\r\n                    this.selectedIndex = -1\r\n                })\r\n            },\r\n            onCreate(article) {\r\n                this.createArticle(article).then(resp => {\r\n                    this.articles.push(resp.data)\r\n                    this.articleEditorDialog = false\r\n                })\r\n            },\r\n            onCloseEditor() {\r\n                this.articleEditorDialog = false\r\n                this.selectedIndex = -1\r\n            },\r\n            changeState(index) {\r\n                this.UpdateArticleByIndex(index)\r\n            },\r\n            UpdateArticleByIndex(index) {\r\n                const article = this.articles[index]\r\n                this.updateArticle(article).then(resp => {\r\n                    this.articles.splice(index, 1, resp.data)\r\n                })\r\n            },\r\n            createArticle(article) {\r\n                const data = {email: this.project.email, projectId: this.projectId, isLive: article.isLive, title: article.title, htmlBody: article.htmlBody, textBody: article.textBody}\r\n                return new Promise((resolve, reject) => {\r\n                    axios({url: API_ENDPOINTS.CREATE_ARTICLE, data: data, method: 'POST' })\r\n                        .then(resp => {\r\n                            resolve(resp)\r\n                            return resp\r\n                        })\r\n                        .catch(err => {\r\n                            reject(err)\r\n                        })\r\n                })\r\n            },\r\n            updateArticle(article) {\r\n                const data = {email: this.$store.getters.email, article: article}\r\n                return new Promise((resolve, reject) => {\r\n                    axios({url: API_ENDPOINTS.UPDATE_ARTICLE, data: data, method: 'PUT' })\r\n                        .then(resp => {\r\n                            resolve(resp)\r\n                            return resp\r\n                        })\r\n                        .catch(err => {\r\n                            reject(err)\r\n                        })\r\n                })\r\n            },\r\n            convertToDate(timestampMs) {\r\n                if (timestampMs > 0) {\r\n                    const date = new Date(timestampMs)\r\n                    return date.toLocaleDateString()\r\n                }\r\n                return \"\"\r\n            },\r\n            saveOrder() {\r\n                let newArticleIds = []\r\n                for (let i = 0; i < this.articles.length; i++) {\r\n                    newArticleIds.push(this.articles[i].articleId)\r\n                }\r\n                this.project.articleIds = newArticleIds\r\n                this.saveProject()\r\n            },\r\n            saveProject() {\r\n                this.isSaving = true\r\n                const data = {email: this.$store.getters.email, project: this.project}\r\n                return new Promise((resolve, reject) => {\r\n                    axios({url: API_ENDPOINTS.UPDATE_PROJECT, data: data, method: 'PUT' })\r\n                        .then(resp => {\r\n                            resolve(resp)\r\n                            this.project = resp.data\r\n                            this.readArticles()\r\n                            this.isSaving = false\r\n                        })\r\n                        .catch(err => {\r\n                            reject(err)\r\n                        })\r\n                })\r\n            },\r\n            openArticleEditor(index) {\r\n                this.selectedIndex = index\r\n                this.articleEditorDialog = true\r\n            },\r\n            openDialog(index) {\r\n                this.dialog = true\r\n                this.selectedIndex = index\r\n            },\r\n            deleteArticle() {\r\n                const projectId = this.articles[this.selectedIndex].projectId\r\n                const articleId = this.articles[this.selectedIndex].articleId\r\n                const data = {requesterEmail: this.$store.getters.email}\r\n                return new Promise((resolve, reject) => {\r\n                    axios({url: API_ENDPOINTS.DELETE_ARTICLE(this.$store.getters.email, projectId, articleId), params: data, method: 'DELETE' })\r\n                        .then(resp => {\r\n                            resolve(resp)\r\n                            this.project.articleIds.splice(this.selectedIndex, 1)\r\n                            this.articles.splice(this.selectedIndex, 1)\r\n                            this.dialog = false\r\n                        })\r\n                        .catch(err => {\r\n                            reject(err)\r\n                        })\r\n                })\r\n            },\r\n            readProject() {\r\n                this.isLoading = true\r\n                const data = {requesterEmail: this.$store.getters.email}\r\n                return new Promise((resolve, reject) => {\r\n                    axios({url: API_ENDPOINTS.READ_PROJECT(this.$store.getters.email, this.projectId), params: data, method: 'GET' })\r\n                        .then(resp => {\r\n                            resolve(resp)\r\n                            this.project = resp.data\r\n                            this.readArticles()\r\n                        })\r\n                        .catch(err => {\r\n                            reject(err)\r\n                        })\r\n                })\r\n            },\r\n            readArticles() {\r\n                return new Promise((resolve, reject) => {\r\n                    let data = {email: this.$store.getters.email ? this.$store.getters.email : this.project.email}\r\n                    if (this.project?.articleIds?.length > 0) {\r\n                        data.articleIds = this.project.articleIds\r\n                    }\r\n                    axios({url: API_ENDPOINTS.READ_ARTICLES, data: data, method: 'POST' })\r\n                        .then(resp => {\r\n                            resolve(resp)\r\n                            this.articles = resp.data\r\n                            this.isLoading = false\r\n                        })\r\n                        .catch(err => {\r\n                            reject(err)\r\n                        })\r\n                })\r\n            },\r\n            sendEmail(from, to, subject, message) {\r\n              return new Promise((resolve, reject) => {\r\n                let data = {email: this.$store.getters.email ? this.$store.getters.email : this.project.email,\r\n                  from: from, to: to, message: message, subject: subject, projectId: this.project.projectId,\r\n                  projectName: this.project.name}\r\n                axios({url: API_ENDPOINTS.SEND_EMAIL, data: data, method: 'POST' })\r\n                    .then(resp => {\r\n                      resolve(resp)\r\n                    })\r\n                    .catch(err => {\r\n                      reject(err)\r\n                    })\r\n              })\r\n            },\r\n            isLogin() {\r\n                if (!this.$store.getters.isLoggedIn || !this.$store.getters.email) {\r\n                    console.log(\"not signed in \");\r\n                    this.$router.push('/')\r\n                    return false\r\n                }\r\n                return true\r\n            },\r\n        },\r\n        created: function () {\r\n            if (!this.isLogin() || !this.$route.params || !this.$route.params.projectId) {\r\n              this.$router.push('/dashboard')\r\n            }\r\n            this.projectId = this.$route.params.projectId\r\n            if (!this.$route.params.project) {\r\n                this.readProject()\r\n            } else {\r\n                this.project = this.$route.params.project\r\n                this.readArticles()\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n\r\n<style>\r\n    .handle {\r\n        cursor: move;\r\n    }\r\n    #buttonContainer {\r\n        margin-left: auto;\r\n    }\r\n    #title-container {\r\n      max-width: 300px;\r\n    }\r\n</style>\r\n"]}]}