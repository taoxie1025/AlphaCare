{"remainingRequest":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\src\\components\\AdminUsersView.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\src\\components\\AdminUsersView.vue","mtime":1606038637471},{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7DQppbXBvcnQge2RlZmF1bHQgYXMgQVBJX0VORFBPSU5UU30gZnJvbSAiLi4vYXBpIjsNCmltcG9ydCBBZG1pblVzZXJNYW5hZ2VtZW50IGZyb20gIkAvY29tcG9uZW50cy9BZG1pblVzZXJNYW5hZ2VtZW50IjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBjb21wb25lbnRzOiB7QWRtaW5Vc2VyTWFuYWdlbWVudH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGhlYWRlcnM6IFsNCiAgICAgICAgeyB0ZXh0OiAnRW1haWwnLCBhbGlnbjogJ3N0YXJ0JywgdmFsdWU6ICdlbWFpbCcsIGNsYXNzOiAiZ3JleSBsaWdodGVuLTQifSwNCiAgICAgICAgeyB0ZXh0OiAnU3RyaXBlIElEJywgYWxpZ246ICdzdGFydCcsIHZhbHVlOiAnc3RyaXBlQ3VzdG9tZXJJZCcsIGNsYXNzOiAiZ3JleSBsaWdodGVuLTQifSwNCiAgICAgICAgeyB0ZXh0OiAnUXVvdGEgVXNhZ2UnLCBhbGlnbjogJ3N0YXJ0JywgdmFsdWU6ICdlbWFpbFVzYWdlSW5DeWNsZScsIGNsYXNzOiAiZ3JleSBsaWdodGVuLTQifSwNCiAgICAgICAgeyB0ZXh0OiAnUGxhbicsIGFsaWduOiAnc3RhcnQnLCB2YWx1ZTogJ3N1YnNjcmlwdGlvblBsYW5MYWJlbCcsIGNsYXNzOiAiZ3JleSBsaWdodGVuLTQifSwNCiAgICAgICAgeyB0ZXh0OiAnUGF5bWVudCBTdGF0dXMnLCBhbGlnbjogJ3N0YXJ0JywgdmFsdWU6ICdwYXltZW50U3RhdHVzTGFiZWwnLCBjbGFzczogImdyZXkgbGlnaHRlbi00In0sDQogICAgICAgIHsgdGV4dDogJ0N5Y2xlIFJlc2V0JywgYWxpZ246ICdzdGFydCcsIHZhbHVlOiAnbGFzdENsZWFyQ3ljbGVUaW1lTGFiZWwnLCBjbGFzczogImdyZXkgbGlnaHRlbi00In0sDQogICAgICAgIHsgdGV4dDogJ0Jsb2NrZWQnLCBhbGlnbjogJ3N0YXJ0JywgdmFsdWU6ICdpc0Jsb2NrTGFiZWwnLCBjbGFzczogImdyZXkgbGlnaHRlbi00In0sDQogICAgICAgIHsgdGV4dDogJ1Njb3BlJywgYWxpZ246ICdlbmQnLCB2YWx1ZTogJ3VzZXJTY29wZUxhYmVsJywgY2xhc3M6ICJncmV5IGxpZ2h0ZW4tNCJ9DQogICAgICBdLA0KICAgICAgdG9rZW46ICIiLA0KICAgICAgcGFnZVNpemU6IDE1LA0KICAgICAgdXNlckluZm9zOiBbXSwNCiAgICAgIGlzTG9hZGluZzogZmFsc2UsDQogICAgICBzZWxlY3RlZFVzZXJJbmZvczogW10sDQogICAgICBlbWFpbEZpbHRlcjogIiIsDQogICAgICBhZG1pblVzZXJNYW5hZ2VtZW50RGlhbG9nOiBmYWxzZSwNCiAgICB9DQogIH0sDQogIHdhdGNoOiB7DQogICAgZW1haWxGaWx0ZXIoKSB7DQogICAgICBpZiAodGhpcy5lbWFpbEZpbHRlciA9PSAiIikgew0KICAgICAgICB0aGlzLnVzZXJJbmZvcyA9IFtdDQogICAgICAgIHRoaXMucmVhZFVzZXJzKCkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMudXNlckluZm9zID0gW10NCiAgICAgICAgdGhpcy50b2tlbiA9ICIiDQogICAgICAgIHRoaXMuc2VhcmNoVXNlcnMoKQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIG9uQ2FuY2VsKCkgew0KICAgICAgdGhpcy5hZG1pblVzZXJNYW5hZ2VtZW50RGlhbG9nID0gZmFsc2UNCiAgICB9LA0KICAgIG9uVXNlclVwZGF0ZWQodXBkYXRlZFVzZXIpIHsNCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy51c2VySW5mb3MubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgaWYgKHRoaXMudXNlckluZm9zW2ldLmVtYWlsID09IHVwZGF0ZWRVc2VyLmVtYWlsKSB7DQogICAgICAgICAgY29uc3QgdXBkYXRlZFVzZXJJbmZvID0gew0KICAgICAgICAgICAgZW1haWw6IHVwZGF0ZWRVc2VyLmVtYWlsLA0KICAgICAgICAgICAgc3RyaXBlQ3VzdG9tZXJJZDogdXBkYXRlZFVzZXIuc3RyaXBlQ3VzdG9tZXJJZCwNCiAgICAgICAgICAgIGVtYWlsVXNhZ2VJbkN5Y2xlOiB1cGRhdGVkVXNlci5lbWFpbFVzYWdlSW5DeWNsZSwNCiAgICAgICAgICAgIHN1YnNjcmlwdGlvblBsYW5MYWJlbDogdGhpcy5nZXRQbGFuKHVwZGF0ZWRVc2VyLnN1YnNjcmlwdGlvblBsYW4pLA0KICAgICAgICAgICAgc3Vic2NyaXB0aW9uUGxhbjogdXBkYXRlZFVzZXIuc3Vic2NyaXB0aW9uUGxhbiwNCiAgICAgICAgICAgIHBheW1lbnRTdGF0dXNMYWJlbDogdGhpcy5nZXRQYXltZW50U3RhdHVzKHVwZGF0ZWRVc2VyLnBheW1lbnRTdGF0dXMpLA0KICAgICAgICAgICAgcGF5bWVudFN0YXR1czogdXBkYXRlZFVzZXIucGF5bWVudFN0YXR1cywNCiAgICAgICAgICAgIGxhc3RDbGVhckN5Y2xlVGltZUxhYmVsOiB0aGlzLmNvbnZlcnRFcG9jaFRvRGF0ZVN0cmluZyh1cGRhdGVkVXNlci5sYXN0Q2xlYXJDeWNsZVRpbWUpLA0KICAgICAgICAgICAgbGFzdENsZWFyQ3ljbGVUaW1lOiB1cGRhdGVkVXNlci5sYXN0Q2xlYXJDeWNsZVRpbWUsDQogICAgICAgICAgICBpc0Jsb2NrTGFiZWw6IHRoaXMuZ2V0QmxvY2tMYWJlbCh1cGRhdGVkVXNlci5pc0Jsb2NrKSwNCiAgICAgICAgICAgIGlzQmxvY2s6IHVwZGF0ZWRVc2VyLmlzQmxvY2ssDQogICAgICAgICAgICB1c2VyU2NvcGVMYWJlbDogdGhpcy5nZXRVc2VyU2NvcGUodXBkYXRlZFVzZXIudXNlclNjb3BlKSwNCiAgICAgICAgICAgIHVzZXJTY29wZTogdXBkYXRlZFVzZXIudXNlclNjb3BlDQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMudXNlckluZm9zLnNwbGljZShpLCAxLCB1cGRhdGVkVXNlckluZm8pDQogICAgICAgICAgdGhpcy5hZG1pblVzZXJNYW5hZ2VtZW50RGlhbG9nID0gZmFsc2UNCiAgICAgICAgICBicmVhaw0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICByb3dDbGljayhpdGVtKSB7DQogICAgICB0aGlzLnNlbGVjdGVkVXNlckluZm9zID0gW10NCiAgICAgIHRoaXMuc2VsZWN0ZWRVc2VySW5mb3MucHVzaChpdGVtKQ0KICAgICAgdGhpcy5hZG1pblVzZXJNYW5hZ2VtZW50RGlhbG9nID0gdHJ1ZQ0KICAgIH0sDQogICAgaGlnaGxpZ2h0Q2xpY2tlZFJvdyhpdGVtKSB7DQogICAgICBjb25zdCB0ciA9IGl0ZW0udGFyZ2V0LnBhcmVudE5vZGU7DQogICAgICB0ci5jbGFzc0xpc3QuYWRkKCdoaWdobGlnaHQnKTsNCiAgICB9LA0KICAgIGNsZWFyKCkgew0KICAgICAgdGhpcy5lbWFpbEZpbHRlciA9ICIiDQogICAgfSwNCiAgICBzZWFyY2hVc2VycygpIHsNCiAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZQ0KICAgICAgdGhpcy51c2VySW5mb3MgPSBbXQ0KICAgICAgdGhpcy5zZWxlY3RlZFVzZXJJbmZvcyA9IFtdDQogICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gew0KICAgICAgICBsZXQgZGF0YSA9IHtlbWFpbEZpbHRlcjogdGhpcy5lbWFpbEZpbHRlcn0NCiAgICAgICAgYXhpb3Moe3VybDogQVBJX0VORFBPSU5UUy5BRE1JTl9TRUFSQ0hfVVNFUlMsIHBhcmFtczogZGF0YSwgbWV0aG9kOiAnR0VUJyB9KQ0KICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7DQogICAgICAgICAgICAgIHJlc29sdmUocmVzcCkNCiAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXNwLmRhdGEubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgICBjb25zdCB1c2VySW5mbyA9IHsNCiAgICAgICAgICAgICAgICAgIGVtYWlsOiByZXNwLmRhdGFbaV0uZW1haWwsDQogICAgICAgICAgICAgICAgICBzdHJpcGVDdXN0b21lcklkOiByZXNwLmRhdGFbaV0uc3RyaXBlQ3VzdG9tZXJJZCwNCiAgICAgICAgICAgICAgICAgIGVtYWlsVXNhZ2VJbkN5Y2xlOiByZXNwLmRhdGFbaV0uZW1haWxVc2FnZUluQ3ljbGUsDQogICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb25QbGFuTGFiZWw6IHRoaXMuZ2V0UGxhbihyZXNwLmRhdGFbaV0uc3Vic2NyaXB0aW9uUGxhbiksDQogICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb25QbGFuOiByZXNwLmRhdGFbaV0uc3Vic2NyaXB0aW9uUGxhbiwNCiAgICAgICAgICAgICAgICAgIHBheW1lbnRTdGF0dXNMYWJlbDogdGhpcy5nZXRQYXltZW50U3RhdHVzKHJlc3AuZGF0YVtpXS5wYXltZW50U3RhdHVzKSwNCiAgICAgICAgICAgICAgICAgIHBheW1lbnRTdGF0dXM6IHJlc3AuZGF0YVtpXS5wYXltZW50U3RhdHVzLA0KICAgICAgICAgICAgICAgICAgbGFzdENsZWFyQ3ljbGVUaW1lTGFiZWw6IHRoaXMuY29udmVydEVwb2NoVG9EYXRlU3RyaW5nKHJlc3AuZGF0YVtpXS5sYXN0Q2xlYXJDeWNsZVRpbWUpLA0KICAgICAgICAgICAgICAgICAgbGFzdENsZWFyQ3ljbGVUaW1lOiByZXNwLmRhdGFbaV0ubGFzdENsZWFyQ3ljbGVUaW1lLA0KICAgICAgICAgICAgICAgICAgaXNCbG9ja0xhYmVsOiB0aGlzLmdldEJsb2NrTGFiZWwocmVzcC5kYXRhW2ldLmlzQmxvY2spLA0KICAgICAgICAgICAgICAgICAgaXNCbG9jazogcmVzcC5kYXRhW2ldLmlzQmxvY2ssDQogICAgICAgICAgICAgICAgICB1c2VyU2NvcGVMYWJlbDogdGhpcy5nZXRVc2VyU2NvcGUocmVzcC5kYXRhW2ldLnVzZXJTY29wZSksDQogICAgICAgICAgICAgICAgICB1c2VyU2NvcGU6IHJlc3AuZGF0YVtpXS51c2VyU2NvcGUNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdGhpcy51c2VySW5mb3MucHVzaCh1c2VySW5mbykNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7DQogICAgICAgICAgICAgIHJlamVjdChlcnIpDQogICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2UNCiAgICAgICAgICAgIH0pDQogICAgICB9KQ0KICAgIH0sDQogICAgbG9hZE1vcmUoKSB7DQogICAgICBpZiAodGhpcy50b2tlbiAhPSAiRU9GIiAmJiB0aGlzLmVtYWlsRmlsdGVyID09ICIiKSB7DQogICAgICAgIHRoaXMucmVhZFVzZXJzKCkNCiAgICAgIH0NCiAgICB9LA0KICAgIHZhbGlkYXRlTG9naW4oKSB7DQogICAgICBpZiAoIXRoaXMuJHN0b3JlLmdldHRlcnMuaXNMb2dnZWRJbiB8fCAhdGhpcy4kc3RvcmUuZ2V0dGVycy5lbWFpbCkgew0KICAgICAgICBjb25zb2xlLmxvZygibm90IHNpZ25lZCBpbiAiKTsNCiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKQ0KICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgIH0NCiAgICAgIHJldHVybiB0cnVlDQogICAgfSwNCiAgICByZWFkVXNlcnMoKSB7DQogICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWUNCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7DQogICAgICAgIGxldCBkYXRhID0gew0KICAgICAgICAgIGVtYWlsOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmVtYWlsLA0KICAgICAgICAgIHBhZ2VTaXplOiB0aGlzLnBhZ2VTaXplLA0KICAgICAgICAgIHRva2VuOiB0aGlzLnRva2VuDQogICAgICAgIH0NCiAgICAgICAgYXhpb3Moe3VybDogQVBJX0VORFBPSU5UUy5BRE1JTl9SRUFEX1VTRVJTLCBkYXRhOiBkYXRhLCBtZXRob2Q6ICdQT1NUJyB9KQ0KICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7DQogICAgICAgICAgICAgIHJlc29sdmUocmVzcCkNCiAgICAgICAgICAgICAgdGhpcy50b2tlbiA9IHJlc3AuZGF0YS50b2tlbg0KICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc3AuZGF0YS51c2VyQWNjb3VudEluZm9zLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICAgICAgY29uc3QgdXNlckluZm8gPSB7DQogICAgICAgICAgICAgICAgICBlbWFpbDogcmVzcC5kYXRhLnVzZXJBY2NvdW50SW5mb3NbaV0uZW1haWwsDQogICAgICAgICAgICAgICAgICBzdHJpcGVDdXN0b21lcklkOiByZXNwLmRhdGEudXNlckFjY291bnRJbmZvc1tpXS5zdHJpcGVDdXN0b21lcklkLA0KICAgICAgICAgICAgICAgICAgZW1haWxVc2FnZUluQ3ljbGU6IHJlc3AuZGF0YS51c2VyQWNjb3VudEluZm9zW2ldLmVtYWlsVXNhZ2VJbkN5Y2xlLA0KICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uUGxhbkxhYmVsOiB0aGlzLmdldFBsYW4ocmVzcC5kYXRhLnVzZXJBY2NvdW50SW5mb3NbaV0uc3Vic2NyaXB0aW9uUGxhbiksDQogICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb25QbGFuOiByZXNwLmRhdGEudXNlckFjY291bnRJbmZvc1tpXS5zdWJzY3JpcHRpb25QbGFuLA0KICAgICAgICAgICAgICAgICAgcGF5bWVudFN0YXR1c0xhYmVsOiB0aGlzLmdldFBheW1lbnRTdGF0dXMocmVzcC5kYXRhLnVzZXJBY2NvdW50SW5mb3NbaV0ucGF5bWVudFN0YXR1cyksDQogICAgICAgICAgICAgICAgICBwYXltZW50U3RhdHVzOiByZXNwLmRhdGEudXNlckFjY291bnRJbmZvc1tpXS5wYXltZW50U3RhdHVzLA0KICAgICAgICAgICAgICAgICAgbGFzdENsZWFyQ3ljbGVUaW1lTGFiZWw6IHRoaXMuY29udmVydEVwb2NoVG9EYXRlU3RyaW5nKHJlc3AuZGF0YS51c2VyQWNjb3VudEluZm9zW2ldLmxhc3RDbGVhckN5Y2xlVGltZSksDQogICAgICAgICAgICAgICAgICBsYXN0Q2xlYXJDeWNsZVRpbWU6IHJlc3AuZGF0YS51c2VyQWNjb3VudEluZm9zW2ldLmxhc3RDbGVhckN5Y2xlVGltZSwNCiAgICAgICAgICAgICAgICAgIGlzQmxvY2tMYWJlbDogdGhpcy5nZXRCbG9ja0xhYmVsKHJlc3AuZGF0YS51c2VyQWNjb3VudEluZm9zW2ldLmlzQmxvY2spLA0KICAgICAgICAgICAgICAgICAgaXNCbG9jazogcmVzcC5kYXRhLnVzZXJBY2NvdW50SW5mb3NbaV0uaXNCbG9jaywNCiAgICAgICAgICAgICAgICAgIHVzZXJTY29wZUxhYmVsOiB0aGlzLmdldFVzZXJTY29wZShyZXNwLmRhdGEudXNlckFjY291bnRJbmZvc1tpXS51c2VyU2NvcGUpLA0KICAgICAgICAgICAgICAgICAgdXNlclNjb3BlOiByZXNwLmRhdGEudXNlckFjY291bnRJbmZvc1tpXS51c2VyU2NvcGUNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdGhpcy51c2VySW5mb3MucHVzaCh1c2VySW5mbykNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7DQogICAgICAgICAgICAgIHJlamVjdChlcnIpDQogICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2UNCiAgICAgICAgICAgIH0pDQogICAgICB9KQ0KICAgIH0sDQogICAgY29udmVydEVwb2NoVG9EYXRlU3RyaW5nKHRpbWVzdGFtcCkgew0KICAgICAgaWYgKHRpbWVzdGFtcCAmJiB0aW1lc3RhbXAgPiAwKSB7DQogICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh0aW1lc3RhbXApDQogICAgICAgIHJldHVybiBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygpDQogICAgICB9DQogICAgICByZXR1cm4gIi0iDQogICAgfSwNCiAgICBnZXRVc2VyU2NvcGUoc2NvcGUpIHsNCiAgICAgIHN3aXRjaChzY29wZSkgew0KICAgICAgICBjYXNlIDA6DQogICAgICAgICAgcmV0dXJuICJVc2VyIg0KICAgICAgICBjYXNlIDE6DQogICAgICAgICAgcmV0dXJuICJBZG1pbiINCiAgICAgICAgY2FzZSAyOg0KICAgICAgICAgIHJldHVybiAiU3VwZXJBZG1pbiINCiAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICByZXR1cm4gIk5vbmUiDQogICAgICB9DQogICAgfSwNCiAgICBnZXRQbGFuKHBsYW4pIHsNCiAgICAgIHN3aXRjaCAocGxhbikgew0KICAgICAgICBjYXNlIDA6DQogICAgICAgICAgcmV0dXJuICJGcmVlIg0KICAgICAgICBjYXNlIDE6DQogICAgICAgICAgcmV0dXJuICJQcm8iDQogICAgICAgIGNhc2UgMjoNCiAgICAgICAgICByZXR1cm4gIlVsdHJhIg0KICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgIHJldHVybiAiTm9uZSINCiAgICAgIH0NCiAgICB9LA0KICAgIGdldFBheW1lbnRTdGF0dXMocGF5bWVudFN0YXR1cykgew0KICAgICAgc3dpdGNoIChwYXltZW50U3RhdHVzKSB7DQogICAgICAgIGNhc2UgMDoNCiAgICAgICAgICByZXR1cm4gIkNvbXBsZXRlZCINCiAgICAgICAgY2FzZSAxOg0KICAgICAgICAgIHJldHVybiAiSW4gUHJvZ3Jlc3MiDQogICAgICAgIGNhc2UgMjoNCiAgICAgICAgICByZXR1cm4gIkZhaWxlZCINCiAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICByZXR1cm4gIk5vbmUiDQogICAgICB9DQogICAgfSwNCiAgICBnZXRCbG9ja0xhYmVsKGlzQmxvY2spIHsNCiAgICAgIHJldHVybiBpc0Jsb2NrID8gIlllcyIgOiAiTm8iDQogICAgfQ0KICB9LA0KICBjcmVhdGVkOiBmdW5jdGlvbiAoKSB7DQogICAgdGhpcy52YWxpZGF0ZUxvZ2luKCkNCg0KICAgIC8vYnlwYXNzIGphdmFzY3JpcHQgbm90IGVuYWJsZWQgaXNzdWUNCiAgICBpZiAoIXRoaXMudXNlckluZm9zIHx8IHRoaXMudXNlckluZm9zLmxlbmd0aCA9PSAwKSB7DQogICAgICB0aGlzLnVzZXJJbmZvcyA9IFtdDQogICAgICB0aGlzLmxvYWRNb3JlKCkNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["AdminUsersView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AdminUsersView.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <v-app id=\"app\">\r\n    <v-container fluid>\r\n      <v-layout row wrap class=\"ma-1\">\r\n        <v-flex xs12>\r\n          <v-text-field\r\n              label=\"Email Address\"\r\n              placeholder=\"Search for user\"\r\n              outlined\r\n              prepend-inner-icon=\"mdi-magnify\"\r\n              :append-icon=\"emailFilter != '' ? 'mdi-close' : ''\"\r\n              v-model=\"emailFilter\"\r\n              @click:append=\"clear\"\r\n          >\r\n          </v-text-field>\r\n        </v-flex>\r\n        <v-flex xs12>\r\n          <v-data-table\r\n              @click:row=\"rowClick\"\r\n              v-model=\"selectedUserInfos\"\r\n              :headers=\"headers\"\r\n              :items=\"userInfos\"\r\n              item-key=\"email\"\r\n              :loading=\"isLoading\"\r\n              loading-text=\"Loading...\"\r\n              hide-default-footer\r\n              :server-items-length=\"pageSize\"\r\n              disable-sort\r\n              single-select\r\n              class=\"elevation-0\"\r\n              v-infinite-scroll=\"loadMore\"\r\n              infinite-scroll-disabled=\"busy\"\r\n              infinite-scroll-distance=\"10\"\r\n              infinite-scroll-immediate-check=\"false\"\r\n          >\r\n          </v-data-table>\r\n        </v-flex>\r\n      </v-layout>\r\n      <v-layout>\r\n        <v-dialog v-if=\"adminUserManagementDialog\" v-model=\"adminUserManagementDialog\" width=\"700px\">\r\n          <admin-user-management :userAccountInfo=\"selectedUserInfos[0]\" @userUpdated=\"onUserUpdated\" @cancel=\"onCancel\"></admin-user-management>\r\n        </v-dialog>\r\n      </v-layout>\r\n    </v-container>\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\n\r\nimport axios from \"axios\";\r\nimport {default as API_ENDPOINTS} from \"../api\";\r\nimport AdminUserManagement from \"@/components/AdminUserManagement\";\r\n\r\nexport default {\r\n  components: {AdminUserManagement},\r\n  data() {\r\n    return {\r\n      headers: [\r\n        { text: 'Email', align: 'start', value: 'email', class: \"grey lighten-4\"},\r\n        { text: 'Stripe ID', align: 'start', value: 'stripeCustomerId', class: \"grey lighten-4\"},\r\n        { text: 'Quota Usage', align: 'start', value: 'emailUsageInCycle', class: \"grey lighten-4\"},\r\n        { text: 'Plan', align: 'start', value: 'subscriptionPlanLabel', class: \"grey lighten-4\"},\r\n        { text: 'Payment Status', align: 'start', value: 'paymentStatusLabel', class: \"grey lighten-4\"},\r\n        { text: 'Cycle Reset', align: 'start', value: 'lastClearCycleTimeLabel', class: \"grey lighten-4\"},\r\n        { text: 'Blocked', align: 'start', value: 'isBlockLabel', class: \"grey lighten-4\"},\r\n        { text: 'Scope', align: 'end', value: 'userScopeLabel', class: \"grey lighten-4\"}\r\n      ],\r\n      token: \"\",\r\n      pageSize: 15,\r\n      userInfos: [],\r\n      isLoading: false,\r\n      selectedUserInfos: [],\r\n      emailFilter: \"\",\r\n      adminUserManagementDialog: false,\r\n    }\r\n  },\r\n  watch: {\r\n    emailFilter() {\r\n      if (this.emailFilter == \"\") {\r\n        this.userInfos = []\r\n        this.readUsers()\r\n      } else {\r\n        this.userInfos = []\r\n        this.token = \"\"\r\n        this.searchUsers()\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    onCancel() {\r\n      this.adminUserManagementDialog = false\r\n    },\r\n    onUserUpdated(updatedUser) {\r\n      for (let i = 0; i < this.userInfos.length; i++) {\r\n        if (this.userInfos[i].email == updatedUser.email) {\r\n          const updatedUserInfo = {\r\n            email: updatedUser.email,\r\n            stripeCustomerId: updatedUser.stripeCustomerId,\r\n            emailUsageInCycle: updatedUser.emailUsageInCycle,\r\n            subscriptionPlanLabel: this.getPlan(updatedUser.subscriptionPlan),\r\n            subscriptionPlan: updatedUser.subscriptionPlan,\r\n            paymentStatusLabel: this.getPaymentStatus(updatedUser.paymentStatus),\r\n            paymentStatus: updatedUser.paymentStatus,\r\n            lastClearCycleTimeLabel: this.convertEpochToDateString(updatedUser.lastClearCycleTime),\r\n            lastClearCycleTime: updatedUser.lastClearCycleTime,\r\n            isBlockLabel: this.getBlockLabel(updatedUser.isBlock),\r\n            isBlock: updatedUser.isBlock,\r\n            userScopeLabel: this.getUserScope(updatedUser.userScope),\r\n            userScope: updatedUser.userScope\r\n          }\r\n          this.userInfos.splice(i, 1, updatedUserInfo)\r\n          this.adminUserManagementDialog = false\r\n          break\r\n        }\r\n      }\r\n    },\r\n    rowClick(item) {\r\n      this.selectedUserInfos = []\r\n      this.selectedUserInfos.push(item)\r\n      this.adminUserManagementDialog = true\r\n    },\r\n    highlightClickedRow(item) {\r\n      const tr = item.target.parentNode;\r\n      tr.classList.add('highlight');\r\n    },\r\n    clear() {\r\n      this.emailFilter = \"\"\r\n    },\r\n    searchUsers() {\r\n      this.isLoading = true\r\n      this.userInfos = []\r\n      this.selectedUserInfos = []\r\n      return new Promise((resolve, reject) => {\r\n        let data = {emailFilter: this.emailFilter}\r\n        axios({url: API_ENDPOINTS.ADMIN_SEARCH_USERS, params: data, method: 'GET' })\r\n            .then(resp => {\r\n              resolve(resp)\r\n              for (let i = 0; i < resp.data.length; i++) {\r\n                const userInfo = {\r\n                  email: resp.data[i].email,\r\n                  stripeCustomerId: resp.data[i].stripeCustomerId,\r\n                  emailUsageInCycle: resp.data[i].emailUsageInCycle,\r\n                  subscriptionPlanLabel: this.getPlan(resp.data[i].subscriptionPlan),\r\n                  subscriptionPlan: resp.data[i].subscriptionPlan,\r\n                  paymentStatusLabel: this.getPaymentStatus(resp.data[i].paymentStatus),\r\n                  paymentStatus: resp.data[i].paymentStatus,\r\n                  lastClearCycleTimeLabel: this.convertEpochToDateString(resp.data[i].lastClearCycleTime),\r\n                  lastClearCycleTime: resp.data[i].lastClearCycleTime,\r\n                  isBlockLabel: this.getBlockLabel(resp.data[i].isBlock),\r\n                  isBlock: resp.data[i].isBlock,\r\n                  userScopeLabel: this.getUserScope(resp.data[i].userScope),\r\n                  userScope: resp.data[i].userScope\r\n                }\r\n                this.userInfos.push(userInfo)\r\n              }\r\n              this.isLoading = false\r\n            })\r\n            .catch(err => {\r\n              reject(err)\r\n              this.isLoading = false\r\n            })\r\n      })\r\n    },\r\n    loadMore() {\r\n      if (this.token != \"EOF\" && this.emailFilter == \"\") {\r\n        this.readUsers()\r\n      }\r\n    },\r\n    validateLogin() {\r\n      if (!this.$store.getters.isLoggedIn || !this.$store.getters.email) {\r\n        console.log(\"not signed in \");\r\n        this.$router.push('/')\r\n        return false\r\n      }\r\n      return true\r\n    },\r\n    readUsers() {\r\n      this.isLoading = true\r\n      return new Promise((resolve, reject) => {\r\n        let data = {\r\n          email: this.$store.getters.email,\r\n          pageSize: this.pageSize,\r\n          token: this.token\r\n        }\r\n        axios({url: API_ENDPOINTS.ADMIN_READ_USERS, data: data, method: 'POST' })\r\n            .then(resp => {\r\n              resolve(resp)\r\n              this.token = resp.data.token\r\n              for (let i = 0; i < resp.data.userAccountInfos.length; i++) {\r\n                const userInfo = {\r\n                  email: resp.data.userAccountInfos[i].email,\r\n                  stripeCustomerId: resp.data.userAccountInfos[i].stripeCustomerId,\r\n                  emailUsageInCycle: resp.data.userAccountInfos[i].emailUsageInCycle,\r\n                  subscriptionPlanLabel: this.getPlan(resp.data.userAccountInfos[i].subscriptionPlan),\r\n                  subscriptionPlan: resp.data.userAccountInfos[i].subscriptionPlan,\r\n                  paymentStatusLabel: this.getPaymentStatus(resp.data.userAccountInfos[i].paymentStatus),\r\n                  paymentStatus: resp.data.userAccountInfos[i].paymentStatus,\r\n                  lastClearCycleTimeLabel: this.convertEpochToDateString(resp.data.userAccountInfos[i].lastClearCycleTime),\r\n                  lastClearCycleTime: resp.data.userAccountInfos[i].lastClearCycleTime,\r\n                  isBlockLabel: this.getBlockLabel(resp.data.userAccountInfos[i].isBlock),\r\n                  isBlock: resp.data.userAccountInfos[i].isBlock,\r\n                  userScopeLabel: this.getUserScope(resp.data.userAccountInfos[i].userScope),\r\n                  userScope: resp.data.userAccountInfos[i].userScope\r\n                }\r\n                this.userInfos.push(userInfo)\r\n              }\r\n              this.isLoading = false\r\n            })\r\n            .catch(err => {\r\n              reject(err)\r\n              this.isLoading = false\r\n            })\r\n      })\r\n    },\r\n    convertEpochToDateString(timestamp) {\r\n      if (timestamp && timestamp > 0) {\r\n        const date = new Date(timestamp)\r\n        return date.toLocaleDateString()\r\n      }\r\n      return \"-\"\r\n    },\r\n    getUserScope(scope) {\r\n      switch(scope) {\r\n        case 0:\r\n          return \"User\"\r\n        case 1:\r\n          return \"Admin\"\r\n        case 2:\r\n          return \"SuperAdmin\"\r\n        default:\r\n          return \"None\"\r\n      }\r\n    },\r\n    getPlan(plan) {\r\n      switch (plan) {\r\n        case 0:\r\n          return \"Free\"\r\n        case 1:\r\n          return \"Pro\"\r\n        case 2:\r\n          return \"Ultra\"\r\n        default:\r\n          return \"None\"\r\n      }\r\n    },\r\n    getPaymentStatus(paymentStatus) {\r\n      switch (paymentStatus) {\r\n        case 0:\r\n          return \"Completed\"\r\n        case 1:\r\n          return \"In Progress\"\r\n        case 2:\r\n          return \"Failed\"\r\n        default:\r\n          return \"None\"\r\n      }\r\n    },\r\n    getBlockLabel(isBlock) {\r\n      return isBlock ? \"Yes\" : \"No\"\r\n    }\r\n  },\r\n  created: function () {\r\n    this.validateLogin()\r\n\r\n    //bypass javascript not enabled issue\r\n    if (!this.userInfos || this.userInfos.length == 0) {\r\n      this.userInfos = []\r\n      this.loadMore()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n<style>\r\n.v-text-field .v-icon {\r\n  color: grey !important;\r\n}\r\n.v-data-table .v-icon {\r\n  color: grey !important;\r\n}\r\n</style>\r\n"]}]}