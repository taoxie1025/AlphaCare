{"remainingRequest":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\src\\components\\AdminUserManagement.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\src\\components\\AdminUserManagement.vue","mtime":1606038554776},{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCg0KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsNCmltcG9ydCB7ZGVmYXVsdCBhcyBBUElfRU5EUE9JTlRTfSBmcm9tICJAL2FwaSI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgY29tcG9uZW50czoge30sDQogIHByb3BzOiBbJ3VzZXJBY2NvdW50SW5mbyddLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICB1c2VyQWNjb3VudEluZm9Db3B5OiB7fSwNCiAgICAgIGlzVXBkYXRpbmc6IGZhbHNlLA0KICAgICAgcXVpY2tNZXNzYWdlOiAiIiwNCiAgICAgIHNuYWNrYmFyOiBmYWxzZSwNCiAgICAgIHBsYW5zOiBbDQogICAgICAgIHtsYWJlbDogIkZyZWUiLCB2YWx1ZTogMH0sDQogICAgICAgIHtsYWJlbDogIlBybyIsIHZhbHVlOiAxfSwNCiAgICAgICAge2xhYmVsOiAiVWx0cmEiLCB2YWx1ZTogMn0sDQogICAgICBdLA0KICAgICAgcGF5bWVudFN0YXR1czogWw0KICAgICAgICB7bGFiZWw6ICJDb21wbGV0ZWQiLCB2YWx1ZTogMH0sDQogICAgICAgIHtsYWJlbDogIkluIFByb2dyZXNzIiwgdmFsdWU6IDF9LA0KICAgICAgICB7bGFiZWw6ICJGYWlsZWQiLCB2YWx1ZTogMn0sDQogICAgICBdLA0KICAgICAgYmxvY2tTdGF0dXM6IFsNCiAgICAgICAge2xhYmVsOiAiWWVzIiwgdmFsdWU6IHRydWV9LA0KICAgICAgICB7bGFiZWw6ICJObyIsIHZhbHVlOiBmYWxzZX0sDQogICAgICBdLA0KICAgICAgdXNlclNjb3BlczogWw0KICAgICAgICB7bGFiZWw6ICJVc2VyIiwgdmFsdWU6IDB9LA0KICAgICAgICB7bGFiZWw6ICJBZG1pbiIsIHZhbHVlOiAxfSwNCiAgICAgIF0NCiAgICB9DQogIH0sDQogIHdhdGNoOiB7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBjYW5jZWwoKSB7DQogICAgICB0aGlzLiRlbWl0KCdjYW5jZWwnKQ0KICAgIH0sDQogICAgc2hvd1F1aWNrTWVzc2FnZShtc2cpIHsNCiAgICAgIHRoaXMucXVpY2tNZXNzYWdlID0gbXNnDQogICAgICB0aGlzLnNuYWNrYmFyID0gdHJ1ZQ0KICAgIH0sDQogICAgdXBkYXRlVXNlcigpIHsNCiAgICAgIHRoaXMuaXNVcGRhdGluZyA9IHRydWUNCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7DQogICAgICAgIGxldCBkYXRhID0gew0KICAgICAgICAgIGVtYWlsOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmVtYWlsLA0KICAgICAgICAgIGVkaXRlZFVzZXJJbmZvOiB7DQogICAgICAgICAgICBlbWFpbDogdGhpcy51c2VyQWNjb3VudEluZm9Db3B5LmVtYWlsLA0KICAgICAgICAgICAgaXNCbG9jazogdGhpcy51c2VyQWNjb3VudEluZm9Db3B5LmlzQmxvY2ssDQogICAgICAgICAgICB1c2VyU2NvcGU6IHRoaXMudXNlckFjY291bnRJbmZvQ29weS51c2VyU2NvcGUsDQogICAgICAgICAgICBzdWJzY3JpcHRpb25QbGFuOiB0aGlzLnVzZXJBY2NvdW50SW5mb0NvcHkuc3Vic2NyaXB0aW9uUGxhbiwNCiAgICAgICAgICAgIGVtYWlsVXNhZ2VJbkN5Y2xlOiB0aGlzLnVzZXJBY2NvdW50SW5mb0NvcHkuZW1haWxVc2FnZUluQ3ljbGUsDQogICAgICAgICAgICBzdHJpcGVDdXN0b21lcklkOiB0aGlzLnVzZXJBY2NvdW50SW5mb0NvcHkuc3RyaXBlQ3VzdG9tZXJJZCwNCiAgICAgICAgICAgIHBheW1lbnRTdGF0dXM6IHRoaXMudXNlckFjY291bnRJbmZvQ29weS5wYXltZW50U3RhdHVzDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGF4aW9zKHt1cmw6IEFQSV9FTkRQT0lOVFMuQURNSU5fVVBEQVRFX1VTRVIsIGRhdGE6IGRhdGEsIG1ldGhvZDogJ1BPU1QnfSkNCiAgICAgICAgICAgIC50aGVuKHJlc3AgPT4gew0KICAgICAgICAgICAgICByZXNvbHZlKHJlc3ApDQogICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3VzZXJVcGRhdGVkJywgcmVzcC5kYXRhKQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gew0KICAgICAgICAgICAgICByZWplY3QoZXJyKQ0KICAgICAgICAgICAgICB0aGlzLnNob3dRdWlja01lc3NhZ2UoIkZhaWxlZCB0byB1cGRhdGUgdGhlIHVzZXIsIHBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuIikNCiAgICAgICAgICAgICAgdGhpcy51c2VyQWNjb3VudEluZm9Db3B5ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLnVzZXJBY2NvdW50SW5mbykpDQogICAgICAgICAgICAgIHRoaXMuaXNVcGRhdGluZyA9IGZhbHNlDQogICAgICAgICAgICB9KQ0KICAgICAgfSkNCiAgICB9DQogIH0sDQogIGNyZWF0ZWQ6IGZ1bmN0aW9uICgpIHsNCiAgICB0aGlzLnVzZXJBY2NvdW50SW5mb0NvcHkgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMudXNlckFjY291bnRJbmZvKSkNCiAgfQ0KfQ0K"},{"version":3,"sources":["AdminUserManagement.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6FA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AdminUserManagement.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <v-card outlined tile>\r\n    <v-card-title>\r\n      <h3>Edit User</h3>\r\n      <v-spacer></v-spacer>\r\n      <h6 v-html=\"userAccountInfoCopy.email\"></h6>\r\n    </v-card-title>\r\n    <v-card-text>\r\n      <v-layout>\r\n        <v-row align=\"center\">\r\n          <v-col class=\"d-flex\" cols=\"12\" sm=\"6\">\r\n            <v-select\r\n                v-model=\"userAccountInfoCopy.subscriptionPlan\"\r\n                placeholder=\"Default\"\r\n                :items=\"plans\"\r\n                item-text=\"label\"\r\n                item-value=\"value\"\r\n                label=\"Plan\"\r\n                outlined\r\n                dense\r\n            ></v-select>\r\n          </v-col>\r\n          <v-col class=\"d-flex\" cols=\"12\" sm=\"6\">\r\n            <v-select\r\n                v-model=\"userAccountInfoCopy.paymentStatus\"\r\n                placeholder=\"Default\"\r\n                :items=\"paymentStatus\"\r\n                item-text=\"label\"\r\n                item-value=\"value\"\r\n                label=\"Payment Status\"\r\n                outlined\r\n                dense\r\n            ></v-select>\r\n          </v-col>\r\n          <v-col class=\"d-flex\" cols=\"12\" sm=\"6\">\r\n            <v-select\r\n                v-model=\"userAccountInfoCopy.isBlock\"\r\n                placeholder=\"Default\"\r\n                :items=\"blockStatus\"\r\n                item-text=\"label\"\r\n                item-value=\"value\"\r\n                label=\"Block\"\r\n                outlined\r\n                dense\r\n            ></v-select>\r\n          </v-col>\r\n          <v-col class=\"d-flex\" cols=\"12\" sm=\"6\">\r\n            <v-select\r\n                v-model=\"userAccountInfoCopy.userScope\"\r\n                placeholder=\"Default\"\r\n                :items=\"userScopes\"\r\n                item-text=\"label\"\r\n                item-value=\"value\"\r\n                label=\"Scope\"\r\n                outlined\r\n                dense\r\n            ></v-select>\r\n          </v-col>\r\n          <v-col class=\"d-flex\" cols=\"12\" sm=\"6\">\r\n            <v-text-field\r\n                outlined\r\n                v-model.number=\"userAccountInfoCopy.emailUsageInCycle\"\r\n                label=\"Email Usage\"\r\n                dense\r\n            ></v-text-field>\r\n          </v-col>\r\n        </v-row>\r\n      </v-layout>\r\n    </v-card-text>\r\n    <v-card-actions>\r\n      <v-btn tile depressed @click=\"cancel\">Close</v-btn>\r\n      <v-spacer></v-spacer>\r\n      <v-btn tile depressed color=\"info\" :disabled=\"isUpdating\" @click=\"updateUser\">Update</v-btn>\r\n    </v-card-actions>\r\n    <v-snackbar v-model=\"snackbar\" timeout=\"8000\" @click=\"snackbar=false\">\r\n      {{quickMessage}}\r\n      <template v-slot:action=\"{ attrs }\">\r\n        <v-btn\r\n            color=\"pink\"\r\n            text\r\n            v-bind=\"attrs\"\r\n            @click=\"snackbar = false\"\r\n        >\r\n          Close\r\n        </v-btn>\r\n      </template>\r\n    </v-snackbar>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport axios from \"axios\";\r\nimport {default as API_ENDPOINTS} from \"@/api\";\r\n\r\nexport default {\r\n  components: {},\r\n  props: ['userAccountInfo'],\r\n  data() {\r\n    return {\r\n      userAccountInfoCopy: {},\r\n      isUpdating: false,\r\n      quickMessage: \"\",\r\n      snackbar: false,\r\n      plans: [\r\n        {label: \"Free\", value: 0},\r\n        {label: \"Pro\", value: 1},\r\n        {label: \"Ultra\", value: 2},\r\n      ],\r\n      paymentStatus: [\r\n        {label: \"Completed\", value: 0},\r\n        {label: \"In Progress\", value: 1},\r\n        {label: \"Failed\", value: 2},\r\n      ],\r\n      blockStatus: [\r\n        {label: \"Yes\", value: true},\r\n        {label: \"No\", value: false},\r\n      ],\r\n      userScopes: [\r\n        {label: \"User\", value: 0},\r\n        {label: \"Admin\", value: 1},\r\n      ]\r\n    }\r\n  },\r\n  watch: {\r\n  },\r\n  methods: {\r\n    cancel() {\r\n      this.$emit('cancel')\r\n    },\r\n    showQuickMessage(msg) {\r\n      this.quickMessage = msg\r\n      this.snackbar = true\r\n    },\r\n    updateUser() {\r\n      this.isUpdating = true\r\n      return new Promise((resolve, reject) => {\r\n        let data = {\r\n          email: this.$store.getters.email,\r\n          editedUserInfo: {\r\n            email: this.userAccountInfoCopy.email,\r\n            isBlock: this.userAccountInfoCopy.isBlock,\r\n            userScope: this.userAccountInfoCopy.userScope,\r\n            subscriptionPlan: this.userAccountInfoCopy.subscriptionPlan,\r\n            emailUsageInCycle: this.userAccountInfoCopy.emailUsageInCycle,\r\n            stripeCustomerId: this.userAccountInfoCopy.stripeCustomerId,\r\n            paymentStatus: this.userAccountInfoCopy.paymentStatus\r\n          }\r\n        }\r\n        axios({url: API_ENDPOINTS.ADMIN_UPDATE_USER, data: data, method: 'POST'})\r\n            .then(resp => {\r\n              resolve(resp)\r\n              this.$emit('userUpdated', resp.data)\r\n            })\r\n            .catch(err => {\r\n              reject(err)\r\n              this.showQuickMessage(\"Failed to update the user, please try again later.\")\r\n              this.userAccountInfoCopy = JSON.parse(JSON.stringify(this.userAccountInfo))\r\n              this.isUpdating = false\r\n            })\r\n      })\r\n    }\r\n  },\r\n  created: function () {\r\n    this.userAccountInfoCopy = JSON.parse(JSON.stringify(this.userAccountInfo))\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n<style>\r\n\r\n</style>\r\n"]}]}