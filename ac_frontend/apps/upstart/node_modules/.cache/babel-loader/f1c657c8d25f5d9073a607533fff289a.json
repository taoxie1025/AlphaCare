{"remainingRequest":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\src\\components\\AdminUserManagement.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\src\\components\\AdminUserManagement.vue","mtime":1606038554776},{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IGRlZmF1bHQgYXMgQVBJX0VORFBPSU5UUyB9IGZyb20gIkAvYXBpIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHt9LAogIHByb3BzOiBbJ3VzZXJBY2NvdW50SW5mbyddLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyQWNjb3VudEluZm9Db3B5OiB7fSwKICAgICAgaXNVcGRhdGluZzogZmFsc2UsCiAgICAgIHF1aWNrTWVzc2FnZTogIiIsCiAgICAgIHNuYWNrYmFyOiBmYWxzZSwKICAgICAgcGxhbnM6IFt7CiAgICAgICAgbGFiZWw6ICJGcmVlIiwKICAgICAgICB2YWx1ZTogMAogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICJQcm8iLAogICAgICAgIHZhbHVlOiAxCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogIlVsdHJhIiwKICAgICAgICB2YWx1ZTogMgogICAgICB9XSwKICAgICAgcGF5bWVudFN0YXR1czogW3sKICAgICAgICBsYWJlbDogIkNvbXBsZXRlZCIsCiAgICAgICAgdmFsdWU6IDAKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAiSW4gUHJvZ3Jlc3MiLAogICAgICAgIHZhbHVlOiAxCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogIkZhaWxlZCIsCiAgICAgICAgdmFsdWU6IDIKICAgICAgfV0sCiAgICAgIGJsb2NrU3RhdHVzOiBbewogICAgICAgIGxhYmVsOiAiWWVzIiwKICAgICAgICB2YWx1ZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICJObyIsCiAgICAgICAgdmFsdWU6IGZhbHNlCiAgICAgIH1dLAogICAgICB1c2VyU2NvcGVzOiBbewogICAgICAgIGxhYmVsOiAiVXNlciIsCiAgICAgICAgdmFsdWU6IDAKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAiQWRtaW4iLAogICAgICAgIHZhbHVlOiAxCiAgICAgIH1dCiAgICB9OwogIH0sCiAgd2F0Y2g6IHt9LAogIG1ldGhvZHM6IHsKICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkgewogICAgICB0aGlzLiRlbWl0KCdjYW5jZWwnKTsKICAgIH0sCiAgICBzaG93UXVpY2tNZXNzYWdlOiBmdW5jdGlvbiBzaG93UXVpY2tNZXNzYWdlKG1zZykgewogICAgICB0aGlzLnF1aWNrTWVzc2FnZSA9IG1zZzsKICAgICAgdGhpcy5zbmFja2JhciA9IHRydWU7CiAgICB9LAogICAgdXBkYXRlVXNlcjogZnVuY3Rpb24gdXBkYXRlVXNlcigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuaXNVcGRhdGluZyA9IHRydWU7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICBlbWFpbDogX3RoaXMuJHN0b3JlLmdldHRlcnMuZW1haWwsCiAgICAgICAgICBlZGl0ZWRVc2VySW5mbzogewogICAgICAgICAgICBlbWFpbDogX3RoaXMudXNlckFjY291bnRJbmZvQ29weS5lbWFpbCwKICAgICAgICAgICAgaXNCbG9jazogX3RoaXMudXNlckFjY291bnRJbmZvQ29weS5pc0Jsb2NrLAogICAgICAgICAgICB1c2VyU2NvcGU6IF90aGlzLnVzZXJBY2NvdW50SW5mb0NvcHkudXNlclNjb3BlLAogICAgICAgICAgICBzdWJzY3JpcHRpb25QbGFuOiBfdGhpcy51c2VyQWNjb3VudEluZm9Db3B5LnN1YnNjcmlwdGlvblBsYW4sCiAgICAgICAgICAgIGVtYWlsVXNhZ2VJbkN5Y2xlOiBfdGhpcy51c2VyQWNjb3VudEluZm9Db3B5LmVtYWlsVXNhZ2VJbkN5Y2xlLAogICAgICAgICAgICBzdHJpcGVDdXN0b21lcklkOiBfdGhpcy51c2VyQWNjb3VudEluZm9Db3B5LnN0cmlwZUN1c3RvbWVySWQsCiAgICAgICAgICAgIHBheW1lbnRTdGF0dXM6IF90aGlzLnVzZXJBY2NvdW50SW5mb0NvcHkucGF5bWVudFN0YXR1cwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgYXhpb3MoewogICAgICAgICAgdXJsOiBBUElfRU5EUE9JTlRTLkFETUlOX1VQREFURV9VU0VSLAogICAgICAgICAgZGF0YTogZGF0YSwKICAgICAgICAgIG1ldGhvZDogJ1BPU1QnCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgcmVzb2x2ZShyZXNwKTsKCiAgICAgICAgICBfdGhpcy4kZW1pdCgndXNlclVwZGF0ZWQnLCByZXNwLmRhdGEpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIHJlamVjdChlcnIpOwoKICAgICAgICAgIF90aGlzLnNob3dRdWlja01lc3NhZ2UoIkZhaWxlZCB0byB1cGRhdGUgdGhlIHVzZXIsIHBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuIik7CgogICAgICAgICAgX3RoaXMudXNlckFjY291bnRJbmZvQ29weSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoX3RoaXMudXNlckFjY291bnRJbmZvKSk7CiAgICAgICAgICBfdGhpcy5pc1VwZGF0aW5nID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMudXNlckFjY291bnRJbmZvQ29weSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy51c2VyQWNjb3VudEluZm8pKTsKICB9Cn07"},{"version":3,"sources":["AdminUserManagement.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <v-card outlined tile>\r\n    <v-card-title>\r\n      <h3>Edit User</h3>\r\n      <v-spacer></v-spacer>\r\n      <h6 v-html=\"userAccountInfoCopy.email\"></h6>\r\n    </v-card-title>\r\n    <v-card-text>\r\n      <v-layout>\r\n        <v-row align=\"center\">\r\n          <v-col class=\"d-flex\" cols=\"12\" sm=\"6\">\r\n            <v-select\r\n                v-model=\"userAccountInfoCopy.subscriptionPlan\"\r\n                placeholder=\"Default\"\r\n                :items=\"plans\"\r\n                item-text=\"label\"\r\n                item-value=\"value\"\r\n                label=\"Plan\"\r\n                outlined\r\n                dense\r\n            ></v-select>\r\n          </v-col>\r\n          <v-col class=\"d-flex\" cols=\"12\" sm=\"6\">\r\n            <v-select\r\n                v-model=\"userAccountInfoCopy.paymentStatus\"\r\n                placeholder=\"Default\"\r\n                :items=\"paymentStatus\"\r\n                item-text=\"label\"\r\n                item-value=\"value\"\r\n                label=\"Payment Status\"\r\n                outlined\r\n                dense\r\n            ></v-select>\r\n          </v-col>\r\n          <v-col class=\"d-flex\" cols=\"12\" sm=\"6\">\r\n            <v-select\r\n                v-model=\"userAccountInfoCopy.isBlock\"\r\n                placeholder=\"Default\"\r\n                :items=\"blockStatus\"\r\n                item-text=\"label\"\r\n                item-value=\"value\"\r\n                label=\"Block\"\r\n                outlined\r\n                dense\r\n            ></v-select>\r\n          </v-col>\r\n          <v-col class=\"d-flex\" cols=\"12\" sm=\"6\">\r\n            <v-select\r\n                v-model=\"userAccountInfoCopy.userScope\"\r\n                placeholder=\"Default\"\r\n                :items=\"userScopes\"\r\n                item-text=\"label\"\r\n                item-value=\"value\"\r\n                label=\"Scope\"\r\n                outlined\r\n                dense\r\n            ></v-select>\r\n          </v-col>\r\n          <v-col class=\"d-flex\" cols=\"12\" sm=\"6\">\r\n            <v-text-field\r\n                outlined\r\n                v-model.number=\"userAccountInfoCopy.emailUsageInCycle\"\r\n                label=\"Email Usage\"\r\n                dense\r\n            ></v-text-field>\r\n          </v-col>\r\n        </v-row>\r\n      </v-layout>\r\n    </v-card-text>\r\n    <v-card-actions>\r\n      <v-btn tile depressed @click=\"cancel\">Close</v-btn>\r\n      <v-spacer></v-spacer>\r\n      <v-btn tile depressed color=\"info\" :disabled=\"isUpdating\" @click=\"updateUser\">Update</v-btn>\r\n    </v-card-actions>\r\n    <v-snackbar v-model=\"snackbar\" timeout=\"8000\" @click=\"snackbar=false\">\r\n      {{quickMessage}}\r\n      <template v-slot:action=\"{ attrs }\">\r\n        <v-btn\r\n            color=\"pink\"\r\n            text\r\n            v-bind=\"attrs\"\r\n            @click=\"snackbar = false\"\r\n        >\r\n          Close\r\n        </v-btn>\r\n      </template>\r\n    </v-snackbar>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport axios from \"axios\";\r\nimport {default as API_ENDPOINTS} from \"@/api\";\r\n\r\nexport default {\r\n  components: {},\r\n  props: ['userAccountInfo'],\r\n  data() {\r\n    return {\r\n      userAccountInfoCopy: {},\r\n      isUpdating: false,\r\n      quickMessage: \"\",\r\n      snackbar: false,\r\n      plans: [\r\n        {label: \"Free\", value: 0},\r\n        {label: \"Pro\", value: 1},\r\n        {label: \"Ultra\", value: 2},\r\n      ],\r\n      paymentStatus: [\r\n        {label: \"Completed\", value: 0},\r\n        {label: \"In Progress\", value: 1},\r\n        {label: \"Failed\", value: 2},\r\n      ],\r\n      blockStatus: [\r\n        {label: \"Yes\", value: true},\r\n        {label: \"No\", value: false},\r\n      ],\r\n      userScopes: [\r\n        {label: \"User\", value: 0},\r\n        {label: \"Admin\", value: 1},\r\n      ]\r\n    }\r\n  },\r\n  watch: {\r\n  },\r\n  methods: {\r\n    cancel() {\r\n      this.$emit('cancel')\r\n    },\r\n    showQuickMessage(msg) {\r\n      this.quickMessage = msg\r\n      this.snackbar = true\r\n    },\r\n    updateUser() {\r\n      this.isUpdating = true\r\n      return new Promise((resolve, reject) => {\r\n        let data = {\r\n          email: this.$store.getters.email,\r\n          editedUserInfo: {\r\n            email: this.userAccountInfoCopy.email,\r\n            isBlock: this.userAccountInfoCopy.isBlock,\r\n            userScope: this.userAccountInfoCopy.userScope,\r\n            subscriptionPlan: this.userAccountInfoCopy.subscriptionPlan,\r\n            emailUsageInCycle: this.userAccountInfoCopy.emailUsageInCycle,\r\n            stripeCustomerId: this.userAccountInfoCopy.stripeCustomerId,\r\n            paymentStatus: this.userAccountInfoCopy.paymentStatus\r\n          }\r\n        }\r\n        axios({url: API_ENDPOINTS.ADMIN_UPDATE_USER, data: data, method: 'POST'})\r\n            .then(resp => {\r\n              resolve(resp)\r\n              this.$emit('userUpdated', resp.data)\r\n            })\r\n            .catch(err => {\r\n              reject(err)\r\n              this.showQuickMessage(\"Failed to update the user, please try again later.\")\r\n              this.userAccountInfoCopy = JSON.parse(JSON.stringify(this.userAccountInfo))\r\n              this.isUpdating = false\r\n            })\r\n      })\r\n    }\r\n  },\r\n  created: function () {\r\n    this.userAccountInfoCopy = JSON.parse(JSON.stringify(this.userAccountInfo))\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n<style>\r\n\r\n</style>\r\n"],"sourceRoot":"src/components"}]}