{"remainingRequest":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\src\\components\\UserBasicInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\src\\components\\UserBasicInfo.vue","mtime":1603786735877},{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IGRlZmF1bHQgYXMgQVBJX0VORFBPSU5UUyB9IGZyb20gIkAvYXBpIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhY2NvdW50SW5mbzoge30sCiAgICAgIHVzZXJJbmZvOiB7CiAgICAgICAgZmlyc3ROYW1lOiAiIiwKICAgICAgICBsYXN0TmFtZTogIiIsCiAgICAgICAgcGhvbmVOdW1iZXI6ICIiCiAgICAgIH0sCiAgICAgIGlzVXBkYXRpbmc6IGZhbHNlLAogICAgICB1cGRhdGVCYXNpY0luZm9SZXF1ZXN0OiB7CiAgICAgICAgZW1haWw6IHRoaXMuJHN0b3JlLmdldHRlcnMuZW1haWwsCiAgICAgICAgdXNlckluZm86IHsKICAgICAgICAgIGVtYWlsOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmVtYWlsCiAgICAgICAgfQogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIHJlcXVpcmVkOiBmdW5jdGlvbiByZXF1aXJlZCh2YWx1ZSkgewogICAgICAgICAgcmV0dXJuICEhdmFsdWUgfHwgIlJlcXVpcmVkLiI7CiAgICAgICAgfQogICAgICB9LAogICAgICBpc0NoYW5nZUJhc2ljSW5mb1ZhbGlkOiBmYWxzZSwKICAgICAgc25hY2tiYXI6IGZhbHNlLAogICAgICBxdWlja01lc3NhZ2U6ICIiCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIG1ldGhvZHM6IHsKICAgIHNob3dRdWlja01lc3NhZ2U6IGZ1bmN0aW9uIHNob3dRdWlja01lc3NhZ2UobXNnKSB7CiAgICAgIHRoaXMucXVpY2tNZXNzYWdlID0gbXNnOwogICAgICB0aGlzLnNuYWNrYmFyID0gdHJ1ZTsKICAgIH0sCiAgICB1cGRhdGVVc2VyQmFzaWNJbmZvOiBmdW5jdGlvbiB1cGRhdGVVc2VyQmFzaWNJbmZvKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuJHJlZnMudXBkYXRlQmFzaWNJbmZvRm9ybS52YWxpZGF0ZSgpKSB7CiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgIF90aGlzLmlzVXBkYXRpbmcgPSB0cnVlOwogICAgICAgICAgX3RoaXMudXBkYXRlQmFzaWNJbmZvUmVxdWVzdC51c2VySW5mby5sYXN0TmFtZSA9IF90aGlzLnVzZXJJbmZvLmxhc3ROYW1lOwogICAgICAgICAgX3RoaXMudXBkYXRlQmFzaWNJbmZvUmVxdWVzdC51c2VySW5mby5maXJzdE5hbWUgPSBfdGhpcy51c2VySW5mby5maXJzdE5hbWU7CiAgICAgICAgICBfdGhpcy51cGRhdGVCYXNpY0luZm9SZXF1ZXN0LnVzZXJJbmZvLnBob25lTnVtYmVyID0gX3RoaXMudXNlckluZm8ucGhvbmVOdW1iZXI7CiAgICAgICAgICBfdGhpcy51cGRhdGVCYXNpY0luZm9SZXF1ZXN0LnVzZXJJbmZvLmFkZHJlc3MgPSBfdGhpcy51c2VySW5mby5hZGRyZXNzOwogICAgICAgICAgYXhpb3MoewogICAgICAgICAgICB1cmw6IEFQSV9FTkRQT0lOVFMuVVBEQVRFX1VTRVJfSU5GTyhfdGhpcy4kc3RvcmUuZ2V0dGVycy5lbWFpbCksCiAgICAgICAgICAgIGRhdGE6IF90aGlzLnVwZGF0ZUJhc2ljSW5mb1JlcXVlc3QsCiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgICAgcmVzb2x2ZShyZXNwKTsKICAgICAgICAgICAgX3RoaXMuaXNVcGRhdGluZyA9IGZhbHNlOwogICAgICAgICAgICBfdGhpcy51c2VySW5mbyA9IHJlc3AuZGF0YTsKCiAgICAgICAgICAgIF90aGlzLnNob3dRdWlja01lc3NhZ2UoIllvdXIgY29udGFjdCBpbmZvIGlzIGNoYW5nZWQgc3VjY2Vzc2Z1bGx5LiIpOwogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICByZWplY3QoZXJyKTsKICAgICAgICAgICAgX3RoaXMuaXNVcGRhdGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgX3RoaXMuc2hvd1F1aWNrTWVzc2FnZSgiRmFpbGVkIHRvIGNoYW5nZSBjb250YWN0IGluZm8uIik7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHJlYWRBY2NvdW50SW5mbzogZnVuY3Rpb24gcmVhZEFjY291bnRJbmZvKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgX3RoaXMyLmlzVXBkYXRpbmcgPSB0cnVlOwogICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgcmVxdWVzdGVyRW1haWw6IF90aGlzMi4kc3RvcmUuZ2V0dGVycy5lbWFpbAogICAgICAgIH07CiAgICAgICAgYXhpb3MoewogICAgICAgICAgdXJsOiBBUElfRU5EUE9JTlRTLlJFQURfQUNDT1VOVF9JTkZPKF90aGlzMi4kc3RvcmUuZ2V0dGVycy5lbWFpbCksCiAgICAgICAgICBwYXJhbXM6IGRhdGEsCiAgICAgICAgICBtZXRob2Q6ICdHRVQnCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgcmVzb2x2ZShyZXNwKTsKICAgICAgICAgIF90aGlzMi5hY2NvdW50SW5mbyA9IHJlc3AuZGF0YTsKICAgICAgICAgIF90aGlzMi51c2VySW5mby5maXJzdE5hbWUgPSByZXNwLmRhdGEuZmlyc3ROYW1lOwogICAgICAgICAgX3RoaXMyLnVzZXJJbmZvLmxhc3ROYW1lID0gX3RoaXMyLmFjY291bnRJbmZvLmxhc3ROYW1lOwogICAgICAgICAgX3RoaXMyLnVzZXJJbmZvLnBob25lTnVtYmVyID0gX3RoaXMyLmFjY291bnRJbmZvLnBob25lTnVtYmVyOwogICAgICAgICAgX3RoaXMyLnVzZXJJbmZvLmFkZHJlc3MgPSBfdGhpczIuYWNjb3VudEluZm8uYWRkcmVzczsKICAgICAgICAgIF90aGlzMi5pc1VwZGF0aW5nID0gZmFsc2U7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgcmVqZWN0KGVycik7CiAgICAgICAgICBfdGhpczIuaXNVcGRhdGluZyA9IGZhbHNlOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnJlYWRBY2NvdW50SW5mbygpOwogIH0KfTs="},{"version":3,"sources":["UserBasicInfo.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <v-container>\r\n    <v-card>\r\n      <v-card-text>\r\n        Use the form below to change the contact info for your account\r\n      </v-card-text>\r\n      <v-form ref=\"updateBasicInfoForm\" v-model=\"isChangeBasicInfoValid\" lazy-validation>\r\n        <v-text-field class=\"ml-10 mr-10\" v-model=\"updateBasicInfoRequest.email\" :rules=\"[rules.required]\" disabled color=\"blue-grey lighten-2\" label=\"Email\" outlined required dense></v-text-field>\r\n        <v-text-field class=\"ml-10 mr-10\" v-model=\"userInfo.firstName\" :rules=\"[rules.required]\" :disabled=\"isUpdating\" color=\"blue-grey lighten-2\" label=\"First name\" outlined required dense></v-text-field>\r\n        <v-text-field class=\"ml-10 mr-10\" v-model=\"userInfo.lastName\" :rules=\"[rules.required]\" :disabled=\"isUpdating\" color=\"blue-grey lighten-2\" label=\"Last name\" outlined required dense></v-text-field>\r\n        <v-text-field class=\"ml-10 mr-10\" v-model=\"userInfo.phoneNumber\" :disabled=\"isUpdating\" color=\"blue-grey lighten-2\" label=\"Phone number\" outlined dense></v-text-field>\r\n        <v-text-field class=\"ml-10 mr-10\" v-model=\"userInfo.address\" :disabled=\"isUpdating\" color=\"blue-grey lighten-2\" label=\"Address\" outlined dense></v-text-field>\r\n        <v-btn class=\"ml-10 mb-3\" tile :disabled=\"!isChangeBasicInfoValid || isUpdating\" @click=\"updateUserBasicInfo\">Save Changes</v-btn>\r\n      </v-form>\r\n    </v-card>\r\n    <v-layout>\r\n      <v-row>\r\n        <v-snackbar v-model=\"snackbar\" timeout=\"8000\" @click=\"snackbar=false\">\r\n          {{quickMessage}}\r\n          <template v-slot:action=\"{ attrs }\">\r\n            <v-btn\r\n                color=\"pink\"\r\n                text\r\n                v-bind=\"attrs\"\r\n                @click=\"snackbar = false\"\r\n            >\r\n              Close\r\n            </v-btn>\r\n          </template>\r\n        </v-snackbar>\r\n      </v-row>\r\n    </v-layout>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport {default as API_ENDPOINTS} from \"@/api\";\r\n\r\nexport default {\r\n  components: {},\r\n  data() {\r\n    return {\r\n      accountInfo: {},\r\n      userInfo: {\r\n        firstName: \"\",\r\n        lastName: \"\",\r\n        phoneNumber: \"\"\r\n      },\r\n      isUpdating: false,\r\n      updateBasicInfoRequest: {\r\n        email: this.$store.getters.email,\r\n        userInfo: {\r\n          email: this.$store.getters.email\r\n        },\r\n      },\r\n      rules: {\r\n        required: value => !!value || \"Required.\",\r\n      },\r\n      isChangeBasicInfoValid: false,\r\n      snackbar: false,\r\n      quickMessage: \"\",\r\n    }\r\n  },\r\n  computed: {\r\n  },\r\n  methods: {\r\n    showQuickMessage(msg) {\r\n      this.quickMessage = msg\r\n      this.snackbar = true\r\n    },\r\n    updateUserBasicInfo() {\r\n      if (this.$refs.updateBasicInfoForm.validate()) {\r\n        return new Promise((resolve, reject) => {\r\n          this.isUpdating = true\r\n          this.updateBasicInfoRequest.userInfo.lastName = this.userInfo.lastName\r\n          this.updateBasicInfoRequest.userInfo.firstName = this.userInfo.firstName\r\n          this.updateBasicInfoRequest.userInfo.phoneNumber = this.userInfo.phoneNumber\r\n          this.updateBasicInfoRequest.userInfo.address = this.userInfo.address\r\n          axios({url: API_ENDPOINTS.UPDATE_USER_INFO(this.$store.getters.email), data: this.updateBasicInfoRequest, method: 'PUT'})\r\n              .then(resp => {\r\n                resolve(resp)\r\n                this.isUpdating = false\r\n                this.userInfo = resp.data\r\n                this.showQuickMessage(\"Your contact info is changed successfully.\")\r\n              })\r\n              .catch(err => {\r\n                reject(err)\r\n                this.isUpdating = false\r\n                this.showQuickMessage(\"Failed to change contact info.\")\r\n              })\r\n        })\r\n      }\r\n    },\r\n    readAccountInfo() {\r\n      return new Promise((resolve, reject) => {\r\n        this.isUpdating = true\r\n        const data = {requesterEmail: this.$store.getters.email}\r\n        axios({url: API_ENDPOINTS.READ_ACCOUNT_INFO(this.$store.getters.email), params: data, method: 'GET'})\r\n            .then(resp => {\r\n              resolve(resp)\r\n              this.accountInfo = resp.data\r\n              this.userInfo.firstName = resp.data.firstName\r\n              this.userInfo.lastName = this.accountInfo.lastName\r\n              this.userInfo.phoneNumber = this.accountInfo.phoneNumber\r\n              this.userInfo.address = this.accountInfo.address\r\n              this.isUpdating = false\r\n            })\r\n            .catch(err => {\r\n              reject(err)\r\n              this.isUpdating = false\r\n            })\r\n      })\r\n    }\r\n  },\r\n  created() {\r\n    this.readAccountInfo()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>"],"sourceRoot":"src/components"}]}