{"remainingRequest":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\src\\store\\index.js","dependencies":[{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\src\\store\\index.js","mtime":1606038675032},{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IGRlZmF1bHQgYXMgQVBJX0VORFBPSU5UUyB9IGZyb20gJy4uL2FwaSc7CmltcG9ydCBjcmVhdGVQZXJzaXN0ZWRTdGF0ZSBmcm9tICd2dWV4LXBlcnNpc3RlZHN0YXRlJzsKaW1wb3J0IENvb2tpZXMgZnJvbSAnanMtY29va2llJzsKVnVlLnVzZShWdWV4KTsKZXhwb3J0IGRlZmF1bHQgbmV3IFZ1ZXguU3RvcmUoewogIHBsdWdpbnM6IFtjcmVhdGVQZXJzaXN0ZWRTdGF0ZSh7CiAgICBzdG9yYWdlOiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UKICB9KV0sCiAgc3RhdGU6IHsKICAgIHN0YXR1czogJycsCiAgICB0b2tlbjogQ29va2llcy5nZXQoJ3Rva2VuJykgfHwgJycsCiAgICBjbGFpbXM6IHt9LAogICAgdXNlcjoge30KICB9LAogIG11dGF0aW9uczogewogICAgYXV0aF9yZXF1ZXN0OiBmdW5jdGlvbiBhdXRoX3JlcXVlc3Qoc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzID0gJ2xvYWRpbmcnOwogICAgfSwKICAgIGF1dGhfc3VjY2VzczogZnVuY3Rpb24gYXV0aF9zdWNjZXNzKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHN0YXRlLnN0YXR1cyA9ICdzdWNjZXNzJzsKICAgICAgc3RhdGUudG9rZW4gPSBwYXlsb2FkLnRva2VuOwogICAgICBzdGF0ZS5jbGFpbXMgPSBwYXlsb2FkLmNsYWltczsKICAgIH0sCiAgICBhdXRoX2Vycm9yOiBmdW5jdGlvbiBhdXRoX2Vycm9yKHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXR1cyA9ICdlcnJvcic7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzID0gJyc7CiAgICAgIHN0YXRlLnRva2VuID0gJyc7CiAgICAgIHN0YXRlLnVzZXIgPSB7fTsKICAgICAgc3RhdGUuY2xhaW1zID0ge307CiAgICAgIHNlc3Npb25TdG9yYWdlLmNsZWFyKCk7CiAgICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpOwogICAgfSwKICAgIHJlYWRfdXNlcl9zdWNjZXNzOiBmdW5jdGlvbiByZWFkX3VzZXJfc3VjY2VzcyhzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS51c2VyID0gcGF5bG9hZDsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihfcmVmLCBjbGFpbXMpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGNvbW1pdCgnYXV0aF9yZXF1ZXN0Jyk7CiAgICAgICAgYXhpb3MoewogICAgICAgICAgdXJsOiBBUElfRU5EUE9JTlRTLkFVVEhFTlRJQ0FURSwKICAgICAgICAgIGRhdGE6IGNsYWltcywKICAgICAgICAgIG1ldGhvZDogJ1BPU1QnCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgdmFyIHRva2VuID0gcmVzcC5kYXRhLnRva2VuOwogICAgICAgICAgdmFyIGNsYWltcyA9IHJlc3AuZGF0YS5jbGFpbXM7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCB0b2tlbik7CiAgICAgICAgICBDb29raWVzLnNldCgndG9rZW4nLCB0b2tlbiwgJ3ZhbHVlJywgewogICAgICAgICAgICBleHBpcmVzOiAyCiAgICAgICAgICB9KTsgLy8gMiBkYXlzCgogICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsb2dnZWRfaW4nLCB0cnVlKTsgLy8gZm9yIHRyaWdnZXJpbmcgc3RvcmFnZSBjaGFuZ2UgZXZlbnQKCiAgICAgICAgICBDb29raWVzLnNldCgnY2xhaW1zJywgSlNPTi5zdHJpbmdpZnkoY2xhaW1zKSwgJ3ZhbHVlJywgewogICAgICAgICAgICBleHBpcmVzOiAyCiAgICAgICAgICB9KTsKICAgICAgICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSB0b2tlbjsKICAgICAgICAgIGNvbW1pdCgnYXV0aF9zdWNjZXNzJywgewogICAgICAgICAgICB0b2tlbjogdG9rZW4sCiAgICAgICAgICAgIGNsYWltczogY2xhaW1zCiAgICAgICAgICB9KTsKICAgICAgICAgIHJlc29sdmUocmVzcCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgY29tbWl0KCdhdXRoX2Vycm9yJyk7CiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKTsKICAgICAgICAgIHJlamVjdChlcnIpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICByZWdpc3RlcjogZnVuY3Rpb24gcmVnaXN0ZXIoX3JlZjIsIGNsYWltcykgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGNvbW1pdCgnYXV0aF9yZXF1ZXN0Jyk7CiAgICAgICAgYXhpb3MoewogICAgICAgICAgdXJsOiBBUElfRU5EUE9JTlRTLlNJR05fVVAsCiAgICAgICAgICBkYXRhOiBjbGFpbXMsCiAgICAgICAgICBtZXRob2Q6ICdQT1NUJwogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgIHZhciB0b2tlbiA9IHJlc3AuZGF0YS50b2tlbjsKICAgICAgICAgIHZhciBjbGFpbXMgPSByZXNwLmRhdGEuY2xhaW1zOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgdG9rZW4pOwogICAgICAgICAgQ29va2llcy5zZXQoJ3Rva2VuJywgdG9rZW4sICd2YWx1ZScsIHsKICAgICAgICAgICAgZXhwaXJlczogMgogICAgICAgICAgfSk7IC8vIDIgZGF5cwoKICAgICAgICAgIENvb2tpZXMuc2V0KCdjbGFpbXMnLCBKU09OLnN0cmluZ2lmeShjbGFpbXMpLCAndmFsdWUnLCB7CiAgICAgICAgICAgIGV4cGlyZXM6IDIKICAgICAgICAgIH0pOwogICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsb2dnZWRfaW4nLCB0cnVlKTsKICAgICAgICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSB0b2tlbjsKICAgICAgICAgIGNvbW1pdCgnYXV0aF9zdWNjZXNzJywgdG9rZW4sIGNsYWltcyk7CiAgICAgICAgICByZXNvbHZlKHJlc3ApOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIGNvbW1pdCgnYXV0aF9lcnJvcicsIGVycik7CiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKTsKICAgICAgICAgIHJlamVjdChlcnIpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChfcmVmMykgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICBjb21taXQoJ2xvZ291dCcpOwogICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0b2tlbicpOwogICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbG9nZ2VkX2luJywgZmFsc2UpOwogICAgICAgIENvb2tpZXMucmVtb3ZlKCd0b2tlbicpOwogICAgICAgIENvb2tpZXMucmVtb3ZlKCdjbGFpbXMnKTsKICAgICAgICBjb21taXQoJ2xvZ291dCcpOwogICAgICAgIGRlbGV0ZSBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddOwogICAgICAgIHJlc29sdmUoKTsKICAgICAgfSk7CiAgICB9LAogICAgcmVhZFVzZXI6IGZ1bmN0aW9uIHJlYWRVc2VyKF9yZWY0LCBlbWFpbCkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICByZXF1ZXN0ZXJFbWFpbDogZW1haWwKICAgICAgfTsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBheGlvcyh7CiAgICAgICAgICB1cmw6IEFQSV9FTkRQT0lOVFMuUkVBRF9VU0VSKGVtYWlsKSwKICAgICAgICAgIHBhcmFtczogZGF0YSwKICAgICAgICAgIG1ldGhvZDogJ0dFVCcKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICB2YXIgdXNlciA9IHJlc3AuZGF0YTsKICAgICAgICAgIGNvbW1pdCgncmVhZF91c2VyX3N1Y2Nlc3MnLCB1c2VyKTsKICAgICAgICAgIHJlc29sdmUocmVzcCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgcmVqZWN0KGVycik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgZ2V0dGVyczogewogICAgaXNMb2dnZWRJbjogZnVuY3Rpb24gaXNMb2dnZWRJbihzdGF0ZSkgewogICAgICByZXR1cm4gISFzdGF0ZS50b2tlbiAmJiAhIUNvb2tpZXMuZ2V0KCd0b2tlbicpICYmICEhQ29va2llcy5nZXQoJ2NsYWltcycpOwogICAgfSwKICAgIGF1dGhTdGF0dXM6IGZ1bmN0aW9uIGF1dGhTdGF0dXMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnN0YXR1czsKICAgIH0sCiAgICBjbGFpbXM6IGZ1bmN0aW9uIGNsYWltcyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuY2xhaW1zIHx8IEpTT04ucGFyc2UoQ29va2llcy5nZXQoJ2NsYWltcycpKTsKICAgIH0sCiAgICB0b2tlbjogZnVuY3Rpb24gdG9rZW4oc3RhdGUpIHsKICAgICAgdmFyIF9zdGF0ZSRjbGFpbXMsIF9KU09OJHBhcnNlOwoKICAgICAgcmV0dXJuICgoX3N0YXRlJGNsYWltcyA9IHN0YXRlLmNsYWltcykgPT09IG51bGwgfHwgX3N0YXRlJGNsYWltcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3N0YXRlJGNsYWltcy50b2tlbikgfHwgKChfSlNPTiRwYXJzZSA9IEpTT04ucGFyc2UoQ29va2llcy5nZXQoJ2NsYWltcycpKSkgPT09IG51bGwgfHwgX0pTT04kcGFyc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9KU09OJHBhcnNlLnRva2VuKTsKICAgIH0sCiAgICBlbWFpbDogZnVuY3Rpb24gZW1haWwoc3RhdGUpIHsKICAgICAgdmFyIF9zdGF0ZSRjbGFpbXMyLCBfSlNPTiRwYXJzZTI7CgogICAgICByZXR1cm4gKChfc3RhdGUkY2xhaW1zMiA9IHN0YXRlLmNsYWltcykgPT09IG51bGwgfHwgX3N0YXRlJGNsYWltczIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zdGF0ZSRjbGFpbXMyLmVtYWlsKSB8fCAoKF9KU09OJHBhcnNlMiA9IEpTT04ucGFyc2UoQ29va2llcy5nZXQoJ2NsYWltcycpKSkgPT09IG51bGwgfHwgX0pTT04kcGFyc2UyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfSlNPTiRwYXJzZTIuZW1haWwpOwogICAgfSwKICAgIHVzZXJTY29wZTogZnVuY3Rpb24gdXNlclNjb3BlKHN0YXRlKSB7CiAgICAgIHZhciBfc3RhdGUkY2xhaW1zMywgX0pTT04kcGFyc2UzOwoKICAgICAgcmV0dXJuICgoX3N0YXRlJGNsYWltczMgPSBzdGF0ZS5jbGFpbXMpID09PSBudWxsIHx8IF9zdGF0ZSRjbGFpbXMzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc3RhdGUkY2xhaW1zMy5zY29wZSkgfHwgKChfSlNPTiRwYXJzZTMgPSBKU09OLnBhcnNlKENvb2tpZXMuZ2V0KCdjbGFpbXMnKSkpID09PSBudWxsIHx8IF9KU09OJHBhcnNlMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX0pTT04kcGFyc2UzLnVzZXJTY29wZSk7CiAgICB9LAogICAgdXNlcjogZnVuY3Rpb24gdXNlcihzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUudXNlcjsKICAgIH0KICB9LAogIG1vZHVsZXM6IHt9Cn0pOw=="},{"version":3,"sources":["D:/Go/src/alphacare/ac_frontend/apps/admin/src/store/index.js"],"names":["Vue","Vuex","axios","default","API_ENDPOINTS","createPersistedState","Cookies","use","Store","plugins","storage","window","sessionStorage","state","status","token","get","claims","user","mutations","auth_request","auth_success","payload","auth_error","logout","clear","localStorage","read_user_success","actions","login","commit","Promise","resolve","reject","url","AUTHENTICATE","data","method","then","resp","setItem","set","expires","JSON","stringify","defaults","headers","common","catch","err","removeItem","register","SIGN_UP","remove","readUser","email","requesterEmail","READ_USER","params","getters","isLoggedIn","authStatus","parse","userScope","scope","modules"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport axios from 'axios'\r\nimport { default as API_ENDPOINTS} from '../api'\r\nimport createPersistedState from 'vuex-persistedstate'\r\nimport Cookies from 'js-cookie'\r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n    plugins: [createPersistedState({\r\n        storage: window.sessionStorage,\r\n    })],\r\n  state: {\r\n    status: '',\r\n    token: Cookies.get('token') || '',\r\n    claims:{},\r\n    user:{}\r\n  },\r\n  mutations: {\r\n      auth_request(state){\r\n          state.status = 'loading'\r\n      },\r\n      auth_success(state, payload){\r\n          state.status = 'success'\r\n          state.token = payload.token\r\n          state.claims = payload.claims\r\n      },\r\n      auth_error(state){\r\n          state.status = 'error'\r\n      },\r\n      logout(state){\r\n          state.status = ''\r\n          state.token = ''\r\n          state.user = {}\r\n          state.claims = {}\r\n          sessionStorage.clear()\r\n          localStorage.clear()\r\n      },\r\n      read_user_success(state, payload){\r\n          state.user = payload\r\n      }\r\n  },\r\n  actions: {\r\n    login({commit}, claims){\r\n      return new Promise((resolve, reject) => {\r\n        commit('auth_request')\r\n        axios({url: API_ENDPOINTS.AUTHENTICATE, data: claims, method: 'POST' })\r\n            .then(resp => {\r\n                const token = resp.data.token\r\n                const claims = resp.data.claims\r\n                localStorage.setItem('token', token)\r\n                Cookies.set('token', token, 'value', {expires: 2}) // 2 days\r\n                window.localStorage.setItem('logged_in', true) // for triggering storage change event\r\n                Cookies.set('claims', JSON.stringify(claims), 'value', {expires: 2})\r\n                axios.defaults.headers.common['Authorization'] = token\r\n                commit('auth_success', {token, claims})\r\n                resolve(resp)\r\n            })\r\n            .catch(err => {\r\n                  commit('auth_error')\r\n                  localStorage.removeItem('token')\r\n                  reject(err)\r\n            })\r\n      })\r\n    },\r\n    register({commit}, claims){\r\n      return new Promise((resolve, reject) => {\r\n          commit('auth_request')\r\n          axios({url: API_ENDPOINTS.SIGN_UP, data: claims, method: 'POST' })\r\n              .then(resp => {\r\n                  const token = resp.data.token\r\n                  const claims = resp.data.claims\r\n                  localStorage.setItem('token', token)\r\n                  Cookies.set('token', token, 'value', {expires: 2}) // 2 days\r\n                  Cookies.set('claims', JSON.stringify(claims), 'value', {expires: 2})\r\n                  window.localStorage.setItem('logged_in', true)\r\n                  axios.defaults.headers.common['Authorization'] = token\r\n                  commit('auth_success', token, claims)\r\n                  resolve(resp)\r\n              })\r\n              .catch(err => {\r\n                  commit('auth_error', err)\r\n                  localStorage.removeItem('token')\r\n                  reject(err)\r\n              })\r\n      })\r\n    },\r\n    logout({commit}){\r\n      return new Promise((resolve) => {\r\n          commit('logout')\r\n          localStorage.removeItem('token')\r\n          window.localStorage.setItem('logged_in', false)\r\n          Cookies.remove('token')\r\n          Cookies.remove('claims')\r\n          commit('logout')\r\n          delete axios.defaults.headers.common['Authorization']\r\n          resolve()\r\n      })\r\n    },\r\n    readUser({commit}, email){\r\n      const data = {requesterEmail: email}\r\n      return new Promise((resolve, reject) => {\r\n          axios({url: API_ENDPOINTS.READ_USER(email), params: data, method: 'GET' })\r\n              .then(resp => {\r\n                  const user = resp.data\r\n                  commit('read_user_success', user)\r\n                  resolve(resp)\r\n              })\r\n              .catch(err => {\r\n                  reject(err)\r\n              })\r\n      })\r\n    },\r\n  },\r\n  getters: {\r\n    isLoggedIn: state => !!state.token && !!Cookies.get('token') && !!Cookies.get('claims'),\r\n    authStatus: state => state.status,\r\n    claims: state => state.claims || JSON.parse(Cookies.get('claims')),\r\n    token: state => state.claims?.token || JSON.parse(Cookies.get('claims'))?.token,\r\n    email: state => state.claims?.email || JSON.parse(Cookies.get('claims'))?.email,\r\n    userScope: state => state.claims?.scope || JSON.parse(Cookies.get('claims'))?.userScope,\r\n    user: state => state.user\r\n  },\r\n  modules: {\r\n  }\r\n})\r\n"]}]}