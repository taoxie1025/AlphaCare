{"remainingRequest":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\src\\components\\AdminSubscriberCard.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\src\\components\\AdminSubscriberCard.vue","mtime":1606618313551},{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IGRlZmF1bHQgYXMgQVBJX0VORFBPSU5UUyB9IGZyb20gIkAvYXBpIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTdWJzY3JpYmVyQ2FyZCIsCiAgY29tcG9uZW50czoge30sCiAgcHJvcHM6IFsncHJvamVjdElkJywgJ2VtYWlsJywgJ3N1YnNjcmliZXInLCAnaXNFZGl0aW5nJ10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHN1YnNjcmliZXJDb3B5OiB7fSwKICAgICAgZW1haWxSdWxlczogW2Z1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuICEhdiB8fCAiUmVxdWlyZWQiOwogICAgICB9LCBmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiAvLitALitcLi4rLy50ZXN0KHYpIHx8ICJFLW1haWwgbXVzdCBiZSB2YWxpZCI7CiAgICAgIH1dLAogICAgICBhcnRpY2xlQ3Vyc29yUnVsZXM6IFtmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiAhIXYgfHwgIlJlcXVpcmVkIjsKICAgICAgfSwgZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gL15cZCskLy50ZXN0KHYpIHx8ICJBcnRpY2xlIE5vLiBtdXN0IGJlIGEgbnVtYmVyIjsKICAgICAgfV0sCiAgICAgIHNob3dNZXNzYWdlOiBmYWxzZSwKICAgICAgZGlzcGxheWVkTWVzc2FnZTogIiIsCiAgICAgIHN1YnNjcmliZXJTdGF0dXM6IFt7CiAgICAgICAgb3B0aW9uOiAiRW5hYmxlZCIsCiAgICAgICAgdmFsdWU6IHRydWUKICAgICAgfSwgewogICAgICAgIG9wdGlvbjogIkRpc2FibGVkIiwKICAgICAgICB2YWx1ZTogZmFsc2UKICAgICAgfV0KICAgIH07CiAgfSwKICBjb21wdXRlZDoge30sCiAgbWV0aG9kczogewogICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkgewogICAgICB0aGlzLiRlbWl0KCdjbG9zZScpOwogICAgfSwKICAgIGNsb3NlU2hvd01lc3NhZ2U6IGZ1bmN0aW9uIGNsb3NlU2hvd01lc3NhZ2UoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5zaG93TWVzc2FnZSA9IGZhbHNlOwogICAgICB9LCA2MDAwKTsKICAgIH0sCiAgICBpc0VtYWlsVmFsaWQ6IGZ1bmN0aW9uIGlzRW1haWxWYWxpZChlbWFpbCkgewogICAgICBpZiAoIS8uK0AuK1wuLisvLnRlc3QoZW1haWwpKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0sCiAgICBpc0FydGljbGVDdXJzb3JWYWxpZDogZnVuY3Rpb24gaXNBcnRpY2xlQ3Vyc29yVmFsaWQoYXJ0aWNsZU51bWJlcikgewogICAgICBpZiAoIS9eXGQrJC8udGVzdChhcnRpY2xlTnVtYmVyKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRydWU7CiAgICB9LAogICAgc2F2ZTogZnVuY3Rpb24gc2F2ZSgpIHsKICAgICAgaWYgKCF0aGlzLmlzQXJ0aWNsZUN1cnNvclZhbGlkKHRoaXMuc3Vic2NyaWJlckNvcHkuYXJ0aWNsZUN1cnNvcikpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuc2F2ZVN1YnNjcmliZXIoKTsKICAgIH0sCiAgICBhZGQ6IGZ1bmN0aW9uIGFkZCgpIHsKICAgICAgaWYgKCF0aGlzLmlzRW1haWxWYWxpZCh0aGlzLnN1YnNjcmliZXJDb3B5LmVtYWlsKSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5zdWJzY3JpYmUoKTsKICAgIH0sCiAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uIHN1YnNjcmliZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBwcm9qZWN0SWQ6IHRoaXMucHJvamVjdElkLAogICAgICAgIGVtYWlsOiB0aGlzLnN1YnNjcmliZXJDb3B5LmVtYWlsLAogICAgICAgIGZpcnN0TmFtZTogJycsCiAgICAgICAgbGFzdE5hbWU6ICcnCiAgICAgIH07CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgIGF4aW9zKHsKICAgICAgICAgIHVybDogQVBJX0VORFBPSU5UUy5DUkVBVEVfU1VCU0NSSUJFUiwKICAgICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgICBtZXRob2Q6ICdQT1NUJwogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgIHJlc29sdmUocmVzcCk7CiAgICAgICAgICBfdGhpczIuZGlzcGxheWVkTWVzc2FnZSA9ICJTdWJzY3JpYmVkIHN1Y2Nlc3NmdWxseSEiOwogICAgICAgICAgX3RoaXMyLnNob3dNZXNzYWdlID0gdHJ1ZTsKICAgICAgICAgIF90aGlzMi5zdWJzY3JpYmVyQ29weS5lbWFpbCA9ICIiOwoKICAgICAgICAgIF90aGlzMi5jbG9zZVNob3dNZXNzYWdlKCk7CgogICAgICAgICAgX3RoaXMyLiRlbWl0KCdzdWJzY3JpYmVyQWRkZWQnLCByZXNwLmRhdGEpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi5kaXNwbGF5ZWRNZXNzYWdlID0gIkZhaWxlZCB0byBzdWJzY3JpYmUuIjsKICAgICAgICAgIF90aGlzMi5zaG93TWVzc2FnZSA9IHRydWU7CgogICAgICAgICAgX3RoaXMyLmNsb3NlU2hvd01lc3NhZ2UoKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgc2F2ZVN1YnNjcmliZXI6IGZ1bmN0aW9uIHNhdmVTdWJzY3JpYmVyKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBkYXRhID0gewogICAgICAgIGVtYWlsOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmVtYWlsLAogICAgICAgIC8vYWRtaW4gZW1haWwKICAgICAgICBlZGl0ZWRTdWJzY3JpYmVyOiB7CiAgICAgICAgICBwcm9qZWN0SWQ6IHRoaXMucHJvamVjdElkLAogICAgICAgICAgZW1haWw6IHRoaXMuc3Vic2NyaWJlckNvcHkuZW1haWwsCiAgICAgICAgICBmaXJzdE5hbWU6ICcnLAogICAgICAgICAgbGFzdE5hbWU6ICcnLAogICAgICAgICAgaXNFbmFibGVkOiB0aGlzLnN1YnNjcmliZXJDb3B5LmlzRW5hYmxlZCwKICAgICAgICAgIGFydGljbGVDdXJzb3I6IHRoaXMuc3Vic2NyaWJlckNvcHkuYXJ0aWNsZUN1cnNvcgogICAgICAgIH0KICAgICAgfTsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgYXhpb3MoewogICAgICAgICAgdXJsOiBBUElfRU5EUE9JTlRTLkFETUlOX1VQREFURV9TVUJTQ1JJQkVSLAogICAgICAgICAgZGF0YTogZGF0YSwKICAgICAgICAgIG1ldGhvZDogJ1BVVCcKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICByZXNvbHZlKHJlc3ApOwogICAgICAgICAgT2JqZWN0LmFzc2lnbihfdGhpczMuc3Vic2NyaWJlciwgcmVzcC5kYXRhKTsKCiAgICAgICAgICBfdGhpczMuJGVtaXQoJ3N1YnNjcmliZXJVcGRhdGVkJywgcmVzcC5kYXRhKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIE9iamVjdC5hc3NpZ24odGhpcy5zdWJzY3JpYmVyQ29weSwgdGhpcy5zdWJzY3JpYmVyKTsKCiAgICBpZiAodGhpcy5zdWJzY3JpYmVyQ29weS5pc0VuYWJsZWRMYWJlbCA9PSAiWWVzIiB8fCB0aGlzLnN1YnNjcmliZXIuaXNFbmFibGVkKSB7CiAgICAgIHRoaXMuc3Vic2NyaWJlckNvcHkuaXNFbmFibGVkID0gdHJ1ZTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuc3Vic2NyaWJlckNvcHkuaXNFbmFibGVkID0gZmFsc2U7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["AdminSubscriberCard.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <v-card flat class=\"mx-auto\">\r\n    <v-card-title class=\"headline grey lighten-2\">\r\n      <v-icon left color=\"black\">mdi-file-document-edit-outline</v-icon>\r\n      <h3 v-if=\"!subscriberCopy.email\">New Subscriber</h3>\r\n      <h3 v-else>Edit Subscriber</h3>\r\n    </v-card-title>\r\n    <v-container>\r\n      <br>\r\n      <v-flex xs12 sm12>\r\n        <v-text-field\r\n            label=\"Email Address\"\r\n            placeholder=\"New subscriber\"\r\n            outlined\r\n            :prepend-inner-icon=\"!isEditing ? 'mdi-pencil-plus-outline' : ''\"\r\n            v-model=\"subscriberCopy.email\"\r\n            :disabled=\"isEditing\"\r\n            :rules=\"emailRules\"\r\n            block\r\n            required\r\n        >\r\n        </v-text-field>\r\n      </v-flex>\r\n      <v-row xs12 class=\"mx-auto\" v-if=\"isEditing\">\r\n        <v-flex xs6 sm6 pr-1>\r\n          <v-text-field\r\n              label=\"Current Article\"\r\n              placeholder=\"Article No.\"\r\n              outlined\r\n              prepend-inner-icon=\"mdi-pencil-plus-outline\"\r\n              v-model.number=\"subscriberCopy.articleCursor\"\r\n              :rules=\"articleCursorRules\"\r\n              block\r\n              required\r\n          >\r\n          </v-text-field>\r\n        </v-flex>\r\n        <v-flex xs6 sm6 pl-1>\r\n          <v-select\r\n              v-model=\"subscriberCopy.isEnabled\"\r\n              :items=\"subscriberStatus\"\r\n              item-text=\"option\"\r\n              item-value=\"value\"\r\n              label=\"Status\"\r\n              block\r\n              outlined\r\n          ></v-select>\r\n        </v-flex>\r\n      </v-row>\r\n      <v-flex xs12 sm12>\r\n        <div id=\"message\" v-if=\"showMessage\"\r\n             class=\"intro-eleven-Description alert alert-dismissible fade show small success\"\r\n             role=\"alert\"\r\n        >\r\n          <button type=\"button\" class=\"close\" @click=\"showMessage=false\">\r\n            <span aria-hidden=\"true\">&times;</span>\r\n          </button>\r\n          <strong>{{displayedMessage}}</strong>\r\n        </div>\r\n      </v-flex>\r\n      <v-row class=\"mx-auto\">\r\n        <v-btn class=\"ma-1\" tile outlined color=\"info\" @click=\"close\">Cancel</v-btn>\r\n        <v-spacer></v-spacer>\r\n        <v-btn v-if=\"!isEditing\" class=\"ma-1\" tile color=\"info\" @click=\"add\" :disabled=\"!isEmailValid(subscriberCopy.email)\">Add</v-btn>\r\n        <v-btn v-else class=\"ma-1\" dark tile color=\"info\" @click=\"save\">Save</v-btn>\r\n      </v-row>\r\n    </v-container>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport axios from \"axios\";\r\nimport {default as API_ENDPOINTS} from \"@/api\";\r\n\r\nexport default {\r\n  name: \"SubscriberCard\",\r\n  components: {},\r\n  props: [\r\n    'projectId',\r\n    'email',\r\n    'subscriber',\r\n    'isEditing'\r\n  ],\r\n  data() {\r\n    return {\r\n      subscriberCopy: {},\r\n      emailRules: [\r\n        v => !!v || \"Required\",\r\n        v => /.+@.+\\..+/.test(v) || \"E-mail must be valid\"\r\n      ],\r\n      articleCursorRules: [\r\n        v => !!v || \"Required\",\r\n        v => /^\\d+$/.test(v) || \"Article No. must be a number\"\r\n      ],\r\n      showMessage: false,\r\n      displayedMessage: \"\",\r\n      subscriberStatus: [\r\n        {option: \"Enabled\", value: true},\r\n        {option: \"Disabled\", value: false}\r\n      ]\r\n    }\r\n  },\r\n  computed: {\r\n  },\r\n  methods: {\r\n    close() {\r\n      this.$emit('close')\r\n    },\r\n    closeShowMessage() {\r\n      setTimeout(() => {\r\n        this.showMessage = false\r\n      }, 6000)\r\n    },\r\n    isEmailValid(email) {\r\n      if (!(/.+@.+\\..+/.test(email))) {\r\n        return false\r\n      }\r\n      return true\r\n    },\r\n    isArticleCursorValid(articleNumber) {\r\n      if (!(/^\\d+$/.test(articleNumber))) {\r\n        return false\r\n      }\r\n      return true\r\n    },\r\n    save() {\r\n      if (!this.isArticleCursorValid(this.subscriberCopy.articleCursor)) {\r\n        return\r\n      }\r\n      this.saveSubscriber()\r\n    },\r\n    add() {\r\n      if (!this.isEmailValid(this.subscriberCopy.email)) {\r\n        return\r\n      }\r\n      this.subscribe()\r\n    },\r\n    subscribe() {\r\n      const data = {projectId: this.projectId, email: this.subscriberCopy.email, firstName: '', lastName: ''}\r\n      return new Promise((resolve) => {\r\n        axios({url: API_ENDPOINTS.CREATE_SUBSCRIBER, data: data, method: 'POST'})\r\n            .then(resp => {\r\n              resolve(resp)\r\n              this.displayedMessage = \"Subscribed successfully!\"\r\n              this.showMessage = true\r\n              this.subscriberCopy.email = \"\"\r\n              this.closeShowMessage()\r\n              this.$emit('subscriberAdded', (resp.data))\r\n            })\r\n            .catch(() => {\r\n              this.displayedMessage = \"Failed to subscribe.\"\r\n              this.showMessage = true\r\n              this.closeShowMessage()\r\n            })\r\n      })\r\n    },\r\n    saveSubscriber() {\r\n      const data = {\r\n        email: this.$store.getters.email, //admin email\r\n        editedSubscriber: {\r\n          projectId: this.projectId,\r\n          email: this.subscriberCopy.email,\r\n          firstName: '',\r\n          lastName: '',\r\n          isEnabled: this.subscriberCopy.isEnabled,\r\n          articleCursor: this.subscriberCopy.articleCursor,\r\n        }\r\n      }\r\n      return new Promise((resolve) => {\r\n        axios({url: API_ENDPOINTS.ADMIN_UPDATE_SUBSCRIBER, data: data, method: 'PUT'})\r\n            .then(resp => {\r\n              resolve(resp)\r\n              Object.assign(this.subscriber, resp.data)\r\n              this.$emit('subscriberUpdated', resp.data)\r\n            })\r\n            .catch(() => {\r\n            })\r\n      })\r\n    }\r\n  },\r\n  created() {\r\n    Object.assign(this.subscriberCopy, this.subscriber)\r\n    if (this.subscriberCopy.isEnabledLabel == \"Yes\" || this.subscriber.isEnabled) {\r\n      this.subscriberCopy.isEnabled = true\r\n    } else {\r\n      this.subscriberCopy.isEnabled = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":"src/components"}]}