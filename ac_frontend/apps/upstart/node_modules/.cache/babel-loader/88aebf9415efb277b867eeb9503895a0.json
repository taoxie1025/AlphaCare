{"remainingRequest":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\src\\components\\ChangePassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\src\\components\\ChangePassword.vue","mtime":1603697674933},{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Go\\src\\alphacare\\ac_frontend\\apps\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IGRlZmF1bHQgYXMgQVBJX0VORFBPSU5UUyB9IGZyb20gIkAvYXBpIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc1VwZGF0aW5nOiBmYWxzZSwKICAgICAgdXBkYXRlUGFzc3dvcmRSZXF1ZXN0OiB7CiAgICAgICAgZW1haWw6IHRoaXMuJHN0b3JlLmdldHRlcnMuZW1haWwKICAgICAgfSwKICAgICAgY3VycmVudFBhc3N3b3JkOiAiIiwKICAgICAgbmV3UGFzc3dvcmQ6ICIiLAogICAgICBuZXdQYXNzd29yZENvbmZpcm06ICIiLAogICAgICBydWxlczogewogICAgICAgIHJlcXVpcmVkOiBmdW5jdGlvbiByZXF1aXJlZCh2YWx1ZSkgewogICAgICAgICAgcmV0dXJuICEhdmFsdWUgfHwgIlJlcXVpcmVkLiI7CiAgICAgICAgfSwKICAgICAgICBtaW46IGZ1bmN0aW9uIG1pbih2KSB7CiAgICAgICAgICByZXR1cm4gdiAmJiB2Lmxlbmd0aCA+PSA0IHx8ICJNaW4gNCBjaGFyYWN0ZXJzIjsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGlzQ2hhbmdlUGFzc3dvcmRWYWxpZDogZmFsc2UsCiAgICAgIHNuYWNrYmFyOiBmYWxzZSwKICAgICAgcXVpY2tNZXNzYWdlOiAiIgogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBwYXNzd29yZE1hdGNoOiBmdW5jdGlvbiBwYXNzd29yZE1hdGNoKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3RoaXMubmV3UGFzc3dvcmQgPT09IF90aGlzLm5ld1Bhc3N3b3JkQ29uZmlybSB8fCAiUGFzc3dvcmQgbXVzdCBtYXRjaCI7CiAgICAgIH07CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7CiAgICAgIHRoaXMuY3VycmVudFBhc3N3b3JkID0gIiI7CiAgICAgIHRoaXMubmV3UGFzc3dvcmQgPSAiIjsKICAgICAgdGhpcy5uZXdQYXNzd29yZENvbmZpcm0gPSAiIjsKICAgIH0sCiAgICBzaG93UXVpY2tNZXNzYWdlOiBmdW5jdGlvbiBzaG93UXVpY2tNZXNzYWdlKG1zZykgewogICAgICB0aGlzLnF1aWNrTWVzc2FnZSA9IG1zZzsKICAgICAgdGhpcy5zbmFja2JhciA9IHRydWU7CiAgICB9LAogICAgY2hhbmdlUGFzc3dvcmQ6IGZ1bmN0aW9uIGNoYW5nZVBhc3N3b3JkKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGlmICh0aGlzLiRyZWZzLmNoYW5nZVBhc3N3b3JkRm9ybS52YWxpZGF0ZSgpKSB7CiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgIF90aGlzMi5pc1VwZGF0aW5nID0gdHJ1ZTsKICAgICAgICAgIF90aGlzMi51cGRhdGVQYXNzd29yZFJlcXVlc3QuY3VycmVudFBhc3N3b3JkID0gX3RoaXMyLmN1cnJlbnRQYXNzd29yZDsKICAgICAgICAgIF90aGlzMi51cGRhdGVQYXNzd29yZFJlcXVlc3QubmV3UGFzc3dvcmQgPSBfdGhpczIubmV3UGFzc3dvcmQ7CiAgICAgICAgICBfdGhpczIudXBkYXRlUGFzc3dvcmRSZXF1ZXN0Lm5ld1Bhc3N3b3JkQ29uZmlybSA9IF90aGlzMi5uZXdQYXNzd29yZENvbmZpcm07CiAgICAgICAgICBheGlvcyh7CiAgICAgICAgICAgIHVybDogQVBJX0VORFBPSU5UUy5DSEFOR0VfUEFTU1dPUkQsCiAgICAgICAgICAgIGRhdGE6IF90aGlzMi51cGRhdGVQYXNzd29yZFJlcXVlc3QsCiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgICAgcmVzb2x2ZShyZXNwKTsKICAgICAgICAgICAgX3RoaXMyLmlzVXBkYXRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgIF90aGlzMi5yZXNldCgpOwoKICAgICAgICAgICAgX3RoaXMyLiRyZWZzLmNoYW5nZVBhc3N3b3JkRm9ybS5yZXNldCgpOwoKICAgICAgICAgICAgX3RoaXMyLnNob3dRdWlja01lc3NhZ2UoIllvdXIgcGFzc3dvcmQgaXMgY2hhbmdlZCBzdWNjZXNzZnVsbHkuIik7CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgIHJlamVjdChlcnIpOwogICAgICAgICAgICBfdGhpczIuaXNVcGRhdGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgX3RoaXMyLnNob3dRdWlja01lc3NhZ2UoIkZhaWxlZCB0byBjaGFuZ2UgcGFzc3dvcmQuIik7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["ChangePassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,OAAA,IAAA,aAAA,QAAA,OAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA,EADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,KADA;AAEA,MAAA,qBAAA,EAAA;AACA,QAAA,KAAA,EAAA,KAAA,MAAA,CAAA,OAAA,CAAA;AADA,OAFA;AAKA,MAAA,eAAA,EAAA,EALA;AAMA,MAAA,WAAA,EAAA,EANA;AAOA,MAAA,kBAAA,EAAA,EAPA;AAQA,MAAA,KAAA,EAAA;AACA,QAAA,QAAA,EAAA,kBAAA,KAAA;AAAA,iBAAA,CAAA,CAAA,KAAA,IAAA,WAAA;AAAA,SADA;AAEA,QAAA,GAAA,EAAA,aAAA,CAAA;AAAA,iBAAA,CAAA,IAAA,CAAA,CAAA,MAAA,IAAA,CAAA,IAAA,kBAAA;AAAA;AAFA,OARA;AAYA,MAAA,qBAAA,EAAA,KAZA;AAaA,MAAA,QAAA,EAAA,KAbA;AAcA,MAAA,YAAA,EAAA;AAdA,KAAA;AAgBA,GAnBA;AAoBA,EAAA,QAAA,EAAA;AACA,IAAA,aADA,2BACA;AAAA;;AACA,aAAA;AAAA,eAAA,KAAA,CAAA,WAAA,KAAA,KAAA,CAAA,kBAAA,IAAA,qBAAA;AAAA,OAAA;AACA;AAHA,GApBA;AAyBA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AACA,WAAA,eAAA,GAAA,EAAA;AACA,WAAA,WAAA,GAAA,EAAA;AACA,WAAA,kBAAA,GAAA,EAAA;AACA,KALA;AAMA,IAAA,gBANA,4BAMA,GANA,EAMA;AACA,WAAA,YAAA,GAAA,GAAA;AACA,WAAA,QAAA,GAAA,IAAA;AACA,KATA;AAUA,IAAA,cAVA,4BAUA;AAAA;;AACA,UAAA,KAAA,KAAA,CAAA,kBAAA,CAAA,QAAA,EAAA,EAAA;AACA,eAAA,IAAA,OAAA,CAAA,UAAA,OAAA,EAAA,MAAA,EAAA;AACA,UAAA,MAAA,CAAA,UAAA,GAAA,IAAA;AACA,UAAA,MAAA,CAAA,qBAAA,CAAA,eAAA,GAAA,MAAA,CAAA,eAAA;AACA,UAAA,MAAA,CAAA,qBAAA,CAAA,WAAA,GAAA,MAAA,CAAA,WAAA;AACA,UAAA,MAAA,CAAA,qBAAA,CAAA,kBAAA,GAAA,MAAA,CAAA,kBAAA;AACA,UAAA,KAAA,CAAA;AAAA,YAAA,GAAA,EAAA,aAAA,CAAA,eAAA;AAAA,YAAA,IAAA,EAAA,MAAA,CAAA,qBAAA;AAAA,YAAA,MAAA,EAAA;AAAA,WAAA,CAAA,CACA,IADA,CACA,UAAA,IAAA,EAAA;AACA,YAAA,OAAA,CAAA,IAAA,CAAA;AACA,YAAA,MAAA,CAAA,UAAA,GAAA,KAAA;;AACA,YAAA,MAAA,CAAA,KAAA;;AACA,YAAA,MAAA,CAAA,KAAA,CAAA,kBAAA,CAAA,KAAA;;AACA,YAAA,MAAA,CAAA,gBAAA,CAAA,wCAAA;AACA,WAPA,EAQA,KARA,CAQA,UAAA,GAAA,EAAA;AACA,YAAA,MAAA,CAAA,GAAA,CAAA;AACA,YAAA,MAAA,CAAA,UAAA,GAAA,KAAA;;AACA,YAAA,MAAA,CAAA,gBAAA,CAAA,4BAAA;AACA,WAZA;AAaA,SAlBA,CAAA;AAmBA;AACA;AAhCA;AAzBA,CAAA","sourcesContent":["<template>\r\n  <v-container>\r\n    <v-card>\r\n      <v-card-text>\r\n        Use the form below to change the password for your account\r\n      </v-card-text>\r\n      <v-form ref=\"changePasswordForm\" v-model=\"isChangePasswordValid\" lazy-validation>\r\n        <v-text-field class=\"ml-10 mr-10\" v-model=\"currentPassword\" :rules=\"[rules.required]\" :disabled=\"isUpdating\" color=\"blue-grey lighten-2\" type=\"password\" label=\"Current password\" outlined required dense></v-text-field>\r\n        <v-text-field class=\"ml-10 mr-10\" v-model=\"newPassword\" :rules=\"[rules.required, rules.min]\" :disabled=\"isUpdating\" color=\"blue-grey lighten-2\" type=\"password\" label=\"New password\" hint=\"At least 4 characters\" counter outlined required dense></v-text-field>\r\n        <v-text-field class=\"ml-10 mr-10\" v-model=\"newPasswordConfirm\" :rules=\"[rules.required, passwordMatch]\" :disabled=\"isUpdating\" color=\"blue-grey lighten-2\" type=\"password\" label=\"Reenter new password\" hint=\"At least 4 characters\" counter outlined required dense></v-text-field>\r\n        <v-btn class=\"ml-10 mb-3\" tile :disabled=\"!isChangePasswordValid || isUpdating\" @click=\"changePassword\">Save Changes</v-btn>\r\n      </v-form>\r\n    </v-card>\r\n    <v-layout>\r\n      <v-row>\r\n        <v-snackbar v-model=\"snackbar\" timeout=\"8000\" @click=\"snackbar=false\">\r\n          {{quickMessage}}\r\n          <template v-slot:action=\"{ attrs }\">\r\n            <v-btn\r\n                color=\"pink\"\r\n                text\r\n                v-bind=\"attrs\"\r\n                @click=\"snackbar = false\"\r\n            >\r\n              Close\r\n            </v-btn>\r\n          </template>\r\n        </v-snackbar>\r\n      </v-row>\r\n    </v-layout>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport {default as API_ENDPOINTS} from \"@/api\";\r\n\r\nexport default {\r\n  components: {},\r\n  data() {\r\n    return {\r\n      isUpdating: false,\r\n      updatePasswordRequest: {\r\n        email: this.$store.getters.email,\r\n      },\r\n      currentPassword: \"\",\r\n      newPassword: \"\",\r\n      newPasswordConfirm: \"\",\r\n      rules: {\r\n        required: value => !!value || \"Required.\",\r\n        min: v => (v && v.length >= 4) || \"Min 4 characters\",\r\n      },\r\n      isChangePasswordValid: false,\r\n      snackbar: false,\r\n      quickMessage: \"\",\r\n    }\r\n  },\r\n  computed: {\r\n    passwordMatch() {\r\n      return () => this.newPassword === this.newPasswordConfirm || \"Password must match\";\r\n    },\r\n  },\r\n  methods: {\r\n    reset() {\r\n      this.currentPassword = \"\"\r\n      this.newPassword = \"\"\r\n      this.newPasswordConfirm = \"\";\r\n    },\r\n    showQuickMessage(msg) {\r\n      this.quickMessage = msg\r\n      this.snackbar = true\r\n    },\r\n    changePassword() {\r\n      if (this.$refs.changePasswordForm.validate()) {\r\n        return new Promise((resolve, reject) => {\r\n          this.isUpdating = true\r\n          this.updatePasswordRequest.currentPassword = this.currentPassword\r\n          this.updatePasswordRequest.newPassword = this.newPassword\r\n          this.updatePasswordRequest.newPasswordConfirm = this.newPasswordConfirm\r\n          axios({url: API_ENDPOINTS.CHANGE_PASSWORD, data: this.updatePasswordRequest, method: 'PUT'})\r\n              .then(resp => {\r\n                resolve(resp)\r\n                this.isUpdating = false\r\n                this.reset()\r\n                this.$refs.changePasswordForm.reset();\r\n                this.showQuickMessage(\"Your password is changed successfully.\")\r\n              })\r\n              .catch(err => {\r\n                reject(err)\r\n                this.isUpdating = false\r\n                this.showQuickMessage(\"Failed to change password.\")\r\n              })\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>"],"sourceRoot":"src/components"}]}